{"version":3,"sources":["skins/JurassicUnix/JurassicUnix.constants.tsx","skins/JurassicUnix/types/perspective-type.tsx","skins/JurassicUnix/JurassicUnix.config.tsx","skins/JurassicUnix/JurassicUnix.helpers.tsx","skins/JurassicUnix/JurassicUnix.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"names":["SIZE_UNIT","SCENE_WIDTH","BASE_HUE","HUE_INCREMENT","BOX_MARGIN","PerspectiveType","THEME_NICE","name","baseHue","hueIncrement","THEME_MOVIE","getPerspectiveFor","x","y","z","width","perspectiveType","offset","objectTopCentre","SIDE_VIEW","windowAspectRatio","window","innerWidth","innerHeight","Math","max","viewPoint","addCoordinates","get3DTranslation","get3DRotation","direction","degrees","toUpperCase","position1","position2","pos1","pos2","isPrimitive","value","Object","capitalize","str","spaced","split","reduce","newString","nextChar","char","toLowerCase","charAt","slice","mapBoxData","root","result","keys","forEach","key","node","mapBoxDataChildren","boxKey","boxName","Array","isArray","length","id","children","item","childBoxKey","indexOf","itemName","getItemName","childNode","push","hasProperties","some","prop","childrenKeys","filter","isCompoundArray","data","onlyChild","propsBoxKey","dataWithoutChildren","childKey","nameAttr","find","undefined","JurassicUnix","props","SELECTED_THEME","DEFAULT_PERSPECTIVE","BOX_STRUCTURE","profile","SceneContainer","state","perspective","focusedBoxId","handleClick","bind","boxProps","e","preventDefault","stopPropagation","this","TOP_VIEW","newState","absolutePosition","setState","themeClass","className","PositionedContainer","position","viewRotation","animated","Box","height","hue","onClick","BoxDataGroup","groupWidth","React","Component","boxes","boxCount","boxesInWidth","ceil","sqrt","boxSpace","boxWidth","boxHeight","box","index","xPos","zPos","floor","boxPosition","boxAbsolutePosition","childGroup","dataDisplay","DataDisplay","labelClass","style","picture","src","alt","map","formatProp","startsWith","href","target","rel","join","transform","_classCallCheck","instance","Constructor","TypeError","_defineProperties","i","descriptor","enumerable","configurable","writable","defineProperty","_createClass","protoProps","staticProps","prototype","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","toString","call","_typeof","obj","Symbol","iterator","constructor","_possibleConstructorReturn","self","assertThisInitialized","_createSuper","Derived","Super","NewTarget","arguments","apply","_setPrototypeOf","p","_inherits","subClass","superClass","create","_assertThisInitialized","ReferenceError","_defineProperty","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","source","getOwnPropertyDescriptors","defineProperties"],"mappings":"oIAAA,+NAAO,IAAMA,EAAY,KACZC,EAAc,IACdC,EAAW,IACXC,GAAiB,IACjBC,EAAa,I,gCCJnB,IAAKC,EAAZ,uD,SAAYA,O,yBAAAA,I,wBAAAA,M,4DCAZ,8FAAO,IAAMC,EAAa,CACtBC,KAAM,4BACNC,QAAS,IACTC,aAAc,IAGLC,EAAc,CACvBH,KAAM,6BACNC,QAAS,IACTC,cAAe,M,sYCHZ,SAASE,EAAkBC,EAAWC,EAAWC,EAAWC,EAAeC,GAM9E,IACIC,EADEC,EAA+B,CAAEN,EAAU,IAANG,EAAYH,EAAGC,GAAIA,EAAGC,EAAS,GAANC,EAAYD,GAGhF,GAAGE,IAAkBX,kBAAgBc,UACjCF,EAAQ,CAAEL,EAAG,EAAGC,EAAS,GAANE,EAAWD,EAAU,IAANC,OAChC,CACF,IAAMK,EAA4BC,OAAOC,WAAWD,OAAOE,YAC3DN,EAAQ,CAAEL,EAAG,EAAGC,EAAGE,EAAMS,KAAKC,IAAI,EAAGL,GAAmB,GAAKN,EAAG,GAGpE,MAAO,CAACY,UAAUC,EAAeT,EAAiBD,GAASD,mBAGxD,SAASY,EAAiBX,GAC7B,MACI,eACAA,EAAOL,EACPZ,YACA,KACAiB,EAAOJ,EACPb,YACA,KACAiB,EAAOH,EACPd,YACA,IAID,SAAS6B,EAAcC,EAAwBC,GAClD,MACI,SAASD,EAAUE,cAAc,IACjCD,EACA,OAID,SAASJ,EAAeM,EAAyBC,GACpD,IAAMC,EAAOF,GAAa,CAAErB,EAAG,EAAGC,EAAG,EAAGC,EAAG,GACrCsB,EAAOF,GAAa,CAAEtB,EAAG,EAAGC,EAAG,EAAGC,EAAG,GAE3C,MAAO,CACHF,EAAGuB,EAAKvB,EAAIwB,EAAKxB,EACjBC,EAAGsB,EAAKtB,EAAIuB,EAAKvB,EACjBC,EAAGqB,EAAKrB,EAAIsB,EAAKtB,GAIlB,SAASuB,EAAYC,GACxB,OAAOA,IAAUC,OAAOD,GAerB,SAASE,EAAWC,GACvB,IAAMC,EAAiBD,EAAIE,MAAM,IAAIC,QAAO,SAACC,EAAWC,GAAZ,OAAuBD,IAIlDE,EAJyED,KAK1EC,EAAKf,eAAiBe,IAASA,EAAKC,cALiD,IAAIF,EAASE,cAAeF,GAIrI,IAAqBC,IAJ2H,IAC5I,MAAM,GAAN,OAAUL,EAAOO,OAAO,GAAGjB,eAA3B,OAA2CU,EAAOQ,MAAM,IAOrD,SAASC,EAAWC,GACvB,IAAIC,EAAoB,GAClBC,EAAOf,OAAOe,KAAKF,GAOzB,OANAE,EAAKC,SAAQ,SAACC,GACV,IAAMC,EA6Bd,SAASC,EAAmBN,EAAWO,EAAgBC,GACnD,GAAIvB,EAAYe,GACZ,OAAO,KAGX,GAAIS,MAAMC,QAAQV,GAAO,CACrB,GAAoB,IAAhBA,EAAKW,OACL,OAAO,KAEX,GAAoB,IAAhBX,EAAKW,OACL,OAAOL,EAAmBN,EAAK,GAAIO,EAAQC,GAG/C,IAAMH,EAAgB,CAClBO,GAAIL,EACJpD,KAAMqD,EACNK,SAAU,IAWd,OATAb,EAAKG,SAAQ,SAAAW,GACT,IAAMC,EAAcR,EAAS,IAAMP,EAAKgB,QAAQF,GAC1CG,EAAWC,EAAYJ,GACvBK,EAAYb,EAAmBQ,EAAMC,EAAaE,GACpDE,GACAd,EAAKQ,SAASO,KAAKD,MAIpBd,EAGX,IAAMH,EAAOf,OAAOe,KAAKF,GACnBqB,EAAgBnB,EAAKoB,MAAK,SAAAlB,GAAG,OArFVmB,EAqFkCvB,EAAKI,IApFxDK,MAAMC,QAAQa,IAAStC,EAAYsC,GAD/C,IAA6BA,KAsFnBC,EAAetB,EAAKuB,QAAO,SAAArB,GAAG,OAlFZmB,EAkFoCvB,EAAKI,IAjFzDK,MAAMC,QAAQa,KAAUtC,EAAYsC,IAGhD,SAAyBA,GACrB,OAAOd,MAAMC,QAAQa,IAASA,EAAKZ,OAAS,IAAM1B,EAAYsC,EAAK,IA6EOG,CAAgB1B,EAAKI,IAlFnG,IAA4BmB,KAoFxB,GAAIF,GAAyC,IAAxBG,EAAab,OAC9B,MAAO,CACHC,GAAIL,EACJpD,KAAMqD,EACNmB,KAAM3B,EACNa,SAAU,IAIlB,IAAKQ,GAAyC,IAAxBG,EAAab,OAAc,CAC7C,IAAMI,EAAcR,EAAS,IAAMiB,EAAa,GAC1CI,EAAY5B,EAAKwB,EAAa,IACpC,OAAOlB,EAAmBsB,EAAWb,OAAuBG,EAAYU,IAG5E,IAAMvB,EAAgB,CAClBO,GAAIL,EACJpD,KAAMqD,EACNK,SAAU,IAGd,GAAIQ,EAAe,CACf,IAAMQ,EAActB,OACduB,EAAoB,eAAI9B,GAC9BwB,EAAarB,SAAQ,SAAAC,GAAG,cAAS0B,EAAoB1B,MAErDC,EAAKQ,SAASO,KAAK,CACfR,GAAIiB,EACJ1E,KAAM,OACNwE,KAAMG,EACNjB,SAAU,KAYlB,OARAW,EAAarB,SAAQ,SAAA4B,GACjB,IAAMhB,EAAcR,EAAS,IAAMwB,EAAW,IAAMP,EAAaR,QAAQe,GACnEZ,EAAYb,EAAmBN,EAAK+B,GAAWhB,EAAa3B,EAAW2C,IACzEZ,GACAd,EAAKQ,SAASO,KAAKD,MAIpBd,EAzGwBC,CAAmBN,EAAKI,GAAMA,EAAM,IAAMF,EAAKc,QAAQZ,GAAMhB,EAAWgB,IAC/FC,GACAJ,EAAOmB,KAAKf,MAGbJ,EAGX,SAASiB,EAAYJ,GAgBjB,IAAMkB,EAA6B,CAAC,UAAW,OAAQ,YAAa,OAAQ,WAAY,OAAQ,eAAgB,WAAWC,MAAK,SAAAD,GAAQ,YAAmBE,IAAjBpB,EAAKkB,MAE/I,OAAOA,EAASlB,EAAKkB,GAAU,K,uMCzF5B,SAASG,EAAaC,GACzB,IAAMC,EAAiB/E,cACjBgF,EAAmC/E,4BACrC,EACA,EACAV,cACAA,cACAI,kBAAgBc,WAGdwE,EAA2BxC,qBAAWqC,EAAMI,SAE5CC,EAZ4D,kDAa9D,WAAYL,GAA6B,IAAD,8BACpC,cAAMA,IACDM,MAAQ,CACTC,YAAY,eAAML,GAClBM,kBAAcV,GAElB,EAAKW,YAAc,EAAKA,YAAYC,KAAjB,gBANiB,EAbsB,wDAsBlDC,EAAoBC,GAG5B,GAFAA,EAAEC,iBACFD,EAAEE,uBAE8BhB,IAA5BiB,KAAKT,MAAME,cACXO,KAAKT,MAAME,eAAiBG,EAASnC,GACvC,CACE,IAAMhD,EAAmCmF,EAASpB,KAAO1E,kBAAgBmG,SAAWnG,kBAAgBc,UAE9FsF,EAAW,CACbV,YAAapF,4BACTwF,EAASO,iBAAiB9F,EAC1BuF,EAASO,iBAAiB7F,EAC1BsF,EAASO,iBAAiB5F,EAAIqF,EAASpF,MACvCoF,EAASpF,MACTC,GAEJgF,aAAcG,EAASnC,IAE3BuC,KAAKI,SAASF,OACX,CAEH,IAAMA,EAAW,CACbV,YAAY,eAAML,GAClBM,kBAAcV,GAElBiB,KAAKI,SAASF,MAhDwC,+BAqD1D,IAAMG,EAAanB,EAAelF,KAClC,OACI,yBAAKsG,UAAW,0BAA4BD,GACxC,yBAAKC,UAAU,+EACX,kBAACC,EAAD,CACIC,SAAUR,KAAKT,MAAMC,YAAYrE,UACjCsF,aAAcT,KAAKT,MAAMC,YAAY/E,kBAAkBX,kBAAgBc,WAAW,IAAI,GACtF8F,UAAU,GAEV,kBAACC,EAAD,CACIH,SAAU,CAAEnG,EAAG,EAAGC,EAAG,EAAGC,EAAG,GAC3B4F,iBAAkB,CAAE9F,EAAG,EAAGC,EAAG,EAAGC,EAAG,GACnCC,MAAOd,cACPkH,OAAQlH,cAAc,EACtBmH,IAAK3B,EAAejF,QACpBD,KAAM,GACNyD,GAAI,OACJR,IAAK,OACL6D,QAASd,KAAKN,aAEd,kBAACqB,EAAD,CACIvC,KAAMY,EACN4B,WAAYtH,cACZmH,IAAK3B,EAAejF,QAAUiF,EAAehF,aAC7C4G,QAASd,KAAKN,sBA7EoB,GAYrCuB,IAAMC,WA2E7BH,EAvF4D,uKAwFpD,IAAD,OACCI,EAAuB,GACvBC,EAAWpB,KAAKf,MAAMT,KAAKhB,OAC3B6D,EAAepG,KAAKqG,KAAKrG,KAAKsG,KAAKH,IACnCI,EAAWxB,KAAKf,MAAM+B,WAAaK,EACnCI,GAAY,EAAI,EAAI5H,cAAc2H,EAClCE,EAAYD,EAAW,EA6C7B,OA3CAzB,KAAKf,MAAMT,KAAKxB,SAAQ,SAAC2E,EAAcC,GACnC,IAAMC,EAAOD,EAAQP,EACfS,EAAO7G,KAAK8G,MAAMH,EAAQP,GAE1BW,EAAc,CAChB3H,GAAIwH,EAAOhI,cAAc2H,EACzBlH,EAAG,EAAIoH,EACPnH,GAAIuH,EAAOjI,cAAc2H,GAGvBS,EAAsB7G,yBACxB4G,EACA,EAAK/C,MAAMkB,kBAGT+B,EAAaP,EAAIjE,SACnB,kBAACqD,EAAD,CACIZ,iBAAkB8B,EAClBzD,KAAMmD,EAAIjE,SACVsD,WAAYS,EACZZ,IAAK,EAAK5B,MAAM4B,IAAMjH,gBACtBkH,QAAS,EAAK7B,MAAM6B,eAExB/B,EAEJoC,EAAMlD,KACF,kBAAC0C,EAAD,CACIH,SAAUwB,EACV7B,iBAAkB8B,EAClBzH,MAAOiH,EACPb,OAAQc,EACRb,IAAK,EAAK5B,MAAM4B,IAChB7G,KAAM2H,EAAI3H,KACVyD,GAAIkE,EAAIlE,GACRR,IAAK0E,EAAIlE,GACTe,KAAMmD,EAAInD,KACVsC,QAAS,EAAK7B,MAAM6B,SAEnBoB,OAKN,oCAAGf,OA3IgD,GAuFvCF,IAAMC,WAwD3BP,EA/I4D,uKAgJpD,IAAD,OACCwB,EAAcnC,KAAKf,MAAMT,KAAO,kBAAC4D,EAAD,CAAa5D,KAAMwB,KAAKf,MAAMT,YAAuBO,EAErFsD,EAAqB,4BADSrC,KAAKf,MAAMjF,KAAKwD,OAAO,IAA0B,iBAApBwC,KAAKf,MAAMjF,KACA,uCAAuC,IACnH,OACI,kBAACuG,EAAD,CAAqBC,SAAUR,KAAKf,MAAMuB,UACtC,yBACIF,UAAU,qBACVQ,QAAS,SAACjB,GAAD,OAAO,EAAKZ,MAAM6B,QAAQ,EAAK7B,MAAOY,IAC/CyC,MAAO,CACH,eAAgBtC,KAAKf,MAAMzE,MAAQf,YACnC,cAAeuG,KAAKf,MAAMzE,MAAQf,YAClC,eAAgBuG,KAAKf,MAAM2B,OAASnH,YACpC,QAASuG,KAAKf,MAAM4B,MAGvBb,KAAKf,MAAMvB,SACZ,yBAAK4C,UAAU,kDACV6B,GAEL,yBAAK7B,UAAU,oDACf,yBAAKA,UAAU,qDACf,yBAAKA,UAAU,qDACf,yBAAKA,UAAU,oDACf,yBAAKA,UAAU,sDACf,yBAAKA,UAAW+B,GAAarC,KAAKf,MAAMjF,YAzKM,GA+IhDiH,IAAMC,WAiClBkB,EAhL4D,uKAkLpD,IAAD,OACC5D,EAAYwB,KAAKf,MAAMT,MAAM,GACnC,OAAO,yBAAK8B,UAAU,2BACnB9B,EAAK+D,SAAW,yBAAKjC,UAAU,mCAAkC,yBAAKkC,IAAKhE,EAAK+D,QAASE,IAAI,mBAC7FzG,OAAOe,KAAKyB,GAAMF,QAAO,SAACrB,GAAD,MAAuB,YAANA,KAAiByF,KAAI,SAAAzF,GAAG,OAAI,yBAAKA,IAAKA,GAAMhB,qBAAWgB,GAAO,KAAM,EAAK0F,WAAWnE,EAAKvB,WAtL5E,iCA0LnDmB,GACP,MAAmB,kBAATA,GAAqBA,EAAKwE,WAAW,QACpC,uBAAGC,KAAMzE,EAAM0E,OAAO,SAASC,IAAI,sBAAsBjC,QAAS,SAAAjB,GACrEA,EAAEE,oBACF3B,GACEd,MAAMC,QAAQa,GACbA,EAAK4E,KAAK,MAEV5E,MAlM+C,GAgLxC6C,IAAMC,WAuB1BX,EAvM4D,uKAyM1D,IAAMD,EAAY,oCAAsCN,KAAKf,MAAMyB,SAAW,2BAA6B,IAC3G,OACI,yBACIJ,UAAWA,EACXgC,MAAO,CACHW,UAAW3H,wBAAc,IAAK0E,KAAKf,MAAMwB,cAAc,GAAKpF,2BAAiB2E,KAAKf,MAAMuB,YAE9FR,KAAKf,MAAMvB,cAhNyC,GAuMhCuD,IAAMC,WAcxC,OACI,kBAAC5B,EAAD,Q,iCC/OO,SAAS4D,EAAgBC,EAAUC,GAChD,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,qCAFxB,mC,iCCAA,SAASC,EAAkBR,EAAQ7D,GACjC,IAAK,IAAIsE,EAAI,EAAGA,EAAItE,EAAMzB,OAAQ+F,IAAK,CACrC,IAAIC,EAAavE,EAAMsE,GACvBC,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjD3H,OAAO4H,eAAed,EAAQU,EAAWvG,IAAKuG,IAInC,SAASK,EAAaT,EAAaU,EAAYC,GAG5D,OAFID,GAAYR,EAAkBF,EAAYY,UAAWF,GACrDC,GAAaT,EAAkBF,EAAaW,GACzCX,EAbT,mC,iCCAe,SAASa,EAAgBC,GAItC,OAHAD,EAAkBjI,OAAOmI,eAAiBnI,OAAOoI,eAAiB,SAAyBF,GACzF,OAAOA,EAAEG,WAAarI,OAAOoI,eAAeF,KAEvBA,GCJV,SAASI,IACtB,GAAuB,qBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EACjE,GAAID,QAAQC,UAAUC,KAAM,OAAO,EACnC,GAAqB,oBAAVC,MAAsB,OAAO,EAExC,IAEE,OADAC,KAAKX,UAAUY,SAASC,KAAKN,QAAQC,UAAUG,KAAM,IAAI,iBAClD,EACP,MAAO9E,GACP,OAAO,GCTI,SAASiF,EAAQC,GAa9B,OATED,EADoB,oBAAXE,QAAoD,kBAApBA,OAAOC,SACtC,SAAiBF,GACzB,cAAcA,GAGN,SAAiBA,GACzB,OAAOA,GAAyB,oBAAXC,QAAyBD,EAAIG,cAAgBF,QAAUD,IAAQC,OAAOhB,UAAY,gBAAkBe,IAI9GA,G,+CCXF,SAASI,EAA2BC,EAAMP,GACvD,OAAIA,GAA2B,WAAlBC,EAAQD,IAAsC,oBAATA,EAI3C,OAAAQ,EAAA,GAAsBD,GAHpBP,ECDI,SAASS,EAAaC,GACnC,OAAO,WACL,IACIzI,EADA0I,EAAQ,EAAeD,GAG3B,GAAI,IAA4B,CAC9B,IAAIE,EAAY,EAAezF,MAAMkF,YACrCpI,EAASyH,QAAQC,UAAUgB,EAAOE,UAAWD,QAE7C3I,EAAS0I,EAAMG,MAAM3F,KAAM0F,WAG7B,OAAO,EAA0B1F,KAAMlD,M,iCCf5B,SAAS8I,EAAgB1B,EAAG2B,GAMzC,OALAD,EAAkB5J,OAAOmI,gBAAkB,SAAyBD,EAAG2B,GAErE,OADA3B,EAAEG,UAAYwB,EACP3B,IAGcA,EAAG2B,GCLb,SAASC,EAAUC,EAAUC,GAC1C,GAA0B,oBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAI3C,UAAU,sDAGtB0C,EAAS/B,UAAYhI,OAAOiK,OAAOD,GAAcA,EAAWhC,UAAW,CACrEkB,YAAa,CACXnJ,MAAOgK,EACPpC,UAAU,EACVD,cAAc,KAGdsC,GAAY,EAAeD,EAAUC,G,oECb5B,SAASE,EAAuBd,GAC7C,QAAa,IAATA,EACF,MAAM,IAAIe,eAAe,6DAG3B,OAAOf,EALT,mC,iCCAe,SAASgB,EAAgBrB,EAAK9H,EAAKlB,GAYhD,OAXIkB,KAAO8H,EACT/I,OAAO4H,eAAemB,EAAK9H,EAAK,CAC9BlB,MAAOA,EACP0H,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZoB,EAAI9H,GAAOlB,EAGNgJ,EAZT,mC,iCCAA,+CAEA,SAASsB,EAAQC,EAAQC,GACvB,IAAIxJ,EAAOf,OAAOe,KAAKuJ,GAEvB,GAAItK,OAAOwK,sBAAuB,CAChC,IAAIC,EAAUzK,OAAOwK,sBAAsBF,GACvCC,IAAgBE,EAAUA,EAAQnI,QAAO,SAAUoI,GACrD,OAAO1K,OAAO2K,yBAAyBL,EAAQI,GAAKjD,eAEtD1G,EAAKkB,KAAK0H,MAAM5I,EAAM0J,GAGxB,OAAO1J,EAGM,SAAS6J,EAAe9D,GACrC,IAAK,IAAIS,EAAI,EAAGA,EAAImC,UAAUlI,OAAQ+F,IAAK,CACzC,IAAIsD,EAAyB,MAAhBnB,UAAUnC,GAAamC,UAAUnC,GAAK,GAE/CA,EAAI,EACN8C,EAAQrK,OAAO6K,IAAS,GAAM7J,SAAQ,SAAUC,GAC9C,YAAe6F,EAAQ7F,EAAK4J,EAAO5J,OAE5BjB,OAAO8K,0BAChB9K,OAAO+K,iBAAiBjE,EAAQ9G,OAAO8K,0BAA0BD,IAEjER,EAAQrK,OAAO6K,IAAS7J,SAAQ,SAAUC,GACxCjB,OAAO4H,eAAed,EAAQ7F,EAAKjB,OAAO2K,yBAAyBE,EAAQ5J,OAKjF,OAAO6F","file":"static/js/7.84e2ef64.chunk.js","sourcesContent":["export const SIZE_UNIT = \"vw\";\nexport const SCENE_WIDTH = 1000;\nexport const BASE_HUE = 340;\nexport const HUE_INCREMENT = -130;\nexport const BOX_MARGIN = 0.2; // How much extra space there is around each box\n","export enum PerspectiveType{\n    SIDE_VIEW,\n    TOP_VIEW\n}\n","export const THEME_NICE = { \n    name: \"jurassic-unix__theme-nice\", \n    baseHue: 200, \n    hueIncrement: 90,\n};\n\nexport const THEME_MOVIE = {\n    name: \"jurassic-unix__theme-movie\",\n    baseHue: 340,\n    hueIncrement: -130,\n};\n","import {SIZE_UNIT} from \"./JurassicUnix.constants\";\nimport {Coordinates} from './types/coordinates';\nimport {PerspectiveType} from \"./types/perspective-type\";\nimport {Perspective} from \"./types/perspective\";\nimport {BoxData} from \"./types/box-data\";\n\nexport function getPerspectiveFor(x: number, y: number, z: number, width: number, perspectiveType: PerspectiveType): Perspective {\n    // x, y, z: coordinates of the lower left corner of the object closest to the observer (with maximum z)\n    // width: the width of the object we're looking at (size in direction x)\n    // output: offset to which we need to move the view in order to see the object\n\n    // First we determine where the centre of the object's top side is (For the sake of simplicity we assume the object's width equals its length)\n    const objectTopCentre: Coordinates = { x: -width*0.5 - x, y: -y, z: width*0.5 - z };\n    let offset: Coordinates;\n\n    if(perspectiveType===PerspectiveType.SIDE_VIEW){\n        offset= { x: 0, y: width*0.4, z: -width*0.8 };\n    } else{\n        const windowAspectRatio: number = window.innerWidth/window.innerHeight;\n        offset= { x: 0, y: width*Math.max(1, windowAspectRatio)*0.6, z: 0 };\n    }\n\n    return {viewPoint:addCoordinates(objectTopCentre, offset), perspectiveType};\n}\n\nexport function get3DTranslation(offset: Coordinates): string {\n    return (\n        \"translate3d(\" +\n        offset.x +\n        SIZE_UNIT +\n        \", \" +\n        offset.y +\n        SIZE_UNIT +\n        \", \" +\n        offset.z +\n        SIZE_UNIT +\n        \")\"\n    );\n}\n\nexport function get3DRotation(direction: 'x'|'y'|'z', degrees: number): string {\n    return (\n        \"rotate\"+direction.toUpperCase()+\"(\" +\n        degrees+\n        \"deg)\"\n    );\n}\n\nexport function addCoordinates(position1?: Coordinates, position2?: Coordinates): Coordinates {\n    const pos1 = position1 || { x: 0, y: 0, z: 0 };\n    const pos2 = position2 || { x: 0, y: 0, z: 0 };\n\n    return {\n        x: pos1.x + pos2.x,\n        y: pos1.y + pos2.y,\n        z: pos1.z + pos2.z,\n    };\n}\n\nexport function isPrimitive(value: any) {\n    return value !== Object(value);\n}\n\nfunction isPrimitiveProperty(prop: any) {\n    return !Array.isArray(prop) && isPrimitive(prop)\n}\n\nfunction isCompoundProperty(prop: any) {\n    return !Array.isArray(prop) && !isPrimitive(prop)\n}\n\nfunction isCompoundArray(prop: any) {\n    return Array.isArray(prop) && prop.length > 0 && !isPrimitive(prop[0])\n}\n\nexport function capitalize(str: string) {\n    const spaced: string = str.split('').reduce((newString, nextChar)=>newString+(isUpperCase(nextChar)?(' '+nextChar.toLowerCase()):nextChar), '');\n    return `${spaced.charAt(0).toUpperCase()}${spaced.slice(1)}`;\n}\n\nfunction isUpperCase(char: string){\n    return char === char.toUpperCase() && char !== char.toLowerCase();\n}\n\nexport function mapBoxData(root: any): BoxData[] {\n    let result: BoxData[] = [];\n    const keys = Object.keys(root)\n    keys.forEach((key) => {\n        const node: BoxData|null = mapBoxDataChildren(root[key], key + '-' + keys.indexOf(key), capitalize(key))\n        if (node) {\n            result.push(node);\n        }\n    });\n    return result;\n}\n\nfunction getItemName(item: any): string {\n    // TODO: figure out a nicer way to get the box name\n\n    // The box name is in one of these attributes, depending on what kind of data we have:\n    /*Award=>awarder\n        Education=>area or studyType\n        Interest=>name\n        Language=>language\n        Project=>name\n        Publication=>name\n        Reference=>name\n        Skill=>name\n        Volunteer=>organization\n        Work=>name\n        Profile=>network*/\n\n    const nameAttr: string|undefined = ['awarder', 'area', 'studyType', 'name', 'language', 'name', 'organization', 'network'].find(nameAttr=>item[nameAttr]!==undefined);\n\n    return nameAttr?item[nameAttr]:'';\n}\n\nfunction mapBoxDataChildren(root: any, boxKey: string, boxName: string): BoxData | null {\n    if (isPrimitive(root)) {\n        return null;\n    }\n\n    if (Array.isArray(root)) {\n        if (root.length === 0) {\n            return null;\n        }\n        if (root.length === 1) {\n            return mapBoxDataChildren(root[0], boxKey, boxName);\n        }\n\n        const node: BoxData = {\n            id: boxKey,\n            name: boxName,\n            children: [],\n        };\n        root.forEach(item => {\n            const childBoxKey = boxKey + '-' + root.indexOf(item);\n            const itemName = getItemName(item)\n            const childNode = mapBoxDataChildren(item, childBoxKey, itemName);\n            if (childNode) {\n                node.children.push(childNode);\n            }\n        });\n\n        return node;\n    }\n\n    const keys = Object.keys(root);\n    const hasProperties = keys.some(key => isPrimitiveProperty(root[key]));\n    const childrenKeys = keys.filter(key => (isCompoundProperty(root[key]) || isCompoundArray(root[key])));\n\n    if (hasProperties && childrenKeys.length === 0) {\n        return {\n            id: boxKey,\n            name: boxName,\n            data: root,\n            children: [],\n        };\n    }\n\n    if (!hasProperties && childrenKeys.length === 1) {\n        const childBoxKey = boxKey + '-' + childrenKeys[0];\n        const onlyChild = root[childrenKeys[0]];\n        return mapBoxDataChildren(onlyChild, childBoxKey + '-' + 0, getItemName(onlyChild));\n    }\n\n    const node: BoxData = {\n        id: boxKey,\n        name: boxName,\n        children: [],\n    };\n\n    if (hasProperties) {\n        const propsBoxKey = boxKey + '-' + 0;\n        const dataWithoutChildren={...root}\n        childrenKeys.forEach(key=>delete dataWithoutChildren[key]); // We are going to add childrenKeys as separate boxes, so we can remove them from here\n\n        node.children.push({\n            id: propsBoxKey,\n            name: \"Info\",\n            data: dataWithoutChildren,\n            children: [],\n        });\n    }\n\n    childrenKeys.forEach(childKey => {\n        const childBoxKey = boxKey + '-' + childKey + '-' + childrenKeys.indexOf(childKey);\n        const childNode = mapBoxDataChildren(root[childKey], childBoxKey, capitalize(childKey));\n        if (childNode) {\n            node.children.push(childNode);\n        }\n    });\n\n    return node;\n}\n","import './JurassicUnix.scss';\n\nimport React, {PropsWithChildren} from 'react';\nimport {IProfileProps} from '../../models';\nimport {THEME_MOVIE} from './JurassicUnix.config';\nimport {BOX_MARGIN, HUE_INCREMENT, SCENE_WIDTH, SIZE_UNIT} from './JurassicUnix.constants';\nimport {BoxData} from './types/box-data';\nimport {\n    getPerspectiveFor,\n    addCoordinates,\n    get3DTranslation,\n    get3DRotation,\n    mapBoxData,\n    capitalize,\n} from './JurassicUnix.helpers';\nimport {PerspectiveType} from \"./types/perspective-type\";\nimport {Perspective} from \"./types/perspective\";\nimport {JurassicUnixState} from \"./types/jurassic-unix-state\";\nimport {SceneContainerProps} from \"./types/scene-container-props\";\nimport {BoxDataGroupProps} from \"./types/box-data-group-props\";\nimport {BoxProps} from \"./types/box-props\";\nimport {PositionedContainerProps} from \"./types/positioned-container-props\";\nimport {DataDisplayProps} from \"./types/data-display-props\";\n\n\nexport function JurassicUnix(props: PropsWithChildren<IProfileProps>) {\n    const SELECTED_THEME = THEME_MOVIE;\n    const DEFAULT_PERSPECTIVE: Perspective = getPerspectiveFor(\n        0,\n        0,\n        SCENE_WIDTH,\n        SCENE_WIDTH,\n        PerspectiveType.SIDE_VIEW\n    );\n\n    const BOX_STRUCTURE: BoxData[] = mapBoxData(props.profile);\n\n    class SceneContainer extends React.Component<SceneContainerProps, JurassicUnixState> {\n        constructor(props: SceneContainerProps) {\n            super(props);\n            this.state = {\n                perspective: { ...DEFAULT_PERSPECTIVE },\n                focusedBoxId: undefined,\n            };\n            this.handleClick = this.handleClick.bind(this);\n        }\n\n        handleClick(boxProps: BoxProps, e: MouseEvent) {\n            e.preventDefault();\n            e.stopPropagation();\n            if (\n                this.state.focusedBoxId === undefined ||\n                this.state.focusedBoxId !== boxProps.id\n            ) {\n                const perspectiveType: PerspectiveType = boxProps.data ? PerspectiveType.TOP_VIEW : PerspectiveType.SIDE_VIEW;\n                // Focus on the clicked box\n                const newState = {\n                    perspective: getPerspectiveFor(\n                        boxProps.absolutePosition.x,\n                        boxProps.absolutePosition.y,\n                        boxProps.absolutePosition.z + boxProps.width,\n                        boxProps.width,\n                        perspectiveType\n                    ),\n                    focusedBoxId: boxProps.id,\n                };\n                this.setState(newState)\n            } else {\n                // The clicked box was already focused, zoom out to wide view\n                const newState = {\n                    perspective: { ...DEFAULT_PERSPECTIVE },\n                    focusedBoxId: undefined,\n                };\n                this.setState(newState)\n            }\n        }\n\n        render() {\n            const themeClass = SELECTED_THEME.name;\n            return (\n                <div className={\"jurassic-unix__wrapper \" + themeClass}>\n                    <div className=\"jurassic-unix__three-d-container jurassic-unix__translated-to-screen-centre\">\n                        <PositionedContainer\n                            position={this.state.perspective.viewPoint}\n                            viewRotation={this.state.perspective.perspectiveType===PerspectiveType.SIDE_VIEW?-35:-90}\n                            animated={true}\n                        >\n                            <Box\n                                position={{ x: 0, y: 0, z: 0 }}\n                                absolutePosition={{ x: 0, y: 0, z: 0 }}\n                                width={SCENE_WIDTH}\n                                height={SCENE_WIDTH / 5}\n                                hue={SELECTED_THEME.baseHue}\n                                name={\"\"}\n                                id={\"base\"}\n                                key={\"base\"}\n                                onClick={this.handleClick}\n                            >\n                                <BoxDataGroup\n                                    data={BOX_STRUCTURE}\n                                    groupWidth={SCENE_WIDTH}\n                                    hue={SELECTED_THEME.baseHue + SELECTED_THEME.hueIncrement}\n                                    onClick={this.handleClick}\n                                />\n                            </Box>\n                        </PositionedContainer>\n                    </div>\n                </div>\n            );\n        }\n    }\n\n    class BoxDataGroup extends React.Component<BoxDataGroupProps> {\n        render() {\n            const boxes: JSX.Element[] = [];\n            const boxCount = this.props.data.length;\n            const boxesInWidth = Math.ceil(Math.sqrt(boxCount));\n            const boxSpace = this.props.groupWidth / boxesInWidth;\n            const boxWidth = (1 - 2 * BOX_MARGIN) * boxSpace;\n            const boxHeight = boxWidth / 5;\n\n            this.props.data.forEach((box: BoxData, index: number) => {\n                const xPos = index % boxesInWidth;\n                const zPos = Math.floor(index / boxesInWidth);\n    \n                const boxPosition = {\n                    x: (xPos + BOX_MARGIN) * boxSpace,\n                    y: 0 - boxHeight,\n                    z: (zPos + BOX_MARGIN) * boxSpace,\n                };\n    \n                const boxAbsolutePosition = addCoordinates(\n                    boxPosition,\n                    this.props.absolutePosition\n                );\n    \n                const childGroup = box.children ? (\n                    <BoxDataGroup\n                        absolutePosition={boxAbsolutePosition}\n                        data={box.children}\n                        groupWidth={boxWidth}\n                        hue={this.props.hue + HUE_INCREMENT}\n                        onClick={this.props.onClick}\n                    />\n                ) : undefined;\n    \n                boxes.push(\n                    <Box\n                        position={boxPosition}\n                        absolutePosition={boxAbsolutePosition}\n                        width={boxWidth}\n                        height={boxHeight}\n                        hue={this.props.hue}\n                        name={box.name}\n                        id={box.id}\n                        key={box.id}\n                        data={box.data}\n                        onClick={this.props.onClick}\n                    >\n                        {childGroup}\n                    </Box>\n                );\n            });\n    \n            return <>{boxes}</>;\n        }\n    }\n\n    class Box extends React.Component<BoxProps> {\n        render() {\n            const dataDisplay = this.props.data ? <DataDisplay data={this.props.data}></DataDisplay> : undefined;\n            const shouldUseSmallFont: boolean = this.props.name.length>10 && this.props.name !== 'Publications';\n            const labelClass: string = \"jurassic-unix__box-label\" + (shouldUseSmallFont?' jurassic-unix__box-label--smallfont':'')\n            return (\n                <PositionedContainer position={this.props.position}>\n                    <div\n                        className=\"jurassic-unix__box\"\n                        onClick={(e) => this.props.onClick(this.props, e as any)}\n                        style={{\n                            \"--box-length\": this.props.width + SIZE_UNIT,\n                            \"--box-width\": this.props.width + SIZE_UNIT,\n                            \"--box-height\": this.props.height + SIZE_UNIT,\n                            \"--hue\": this.props.hue,\n                        } as any}\n                    >\n                        {this.props.children}\n                        <div className=\"jurassic-unix__box-side jurassic-unix__box-top\">\n                            {dataDisplay}\n                        </div>\n                        <div className=\"jurassic-unix__box-side jurassic-unix__box-back\"></div>\n                        <div className=\"jurassic-unix__box-side jurassic-unix__box-front\"></div>\n                        <div className=\"jurassic-unix__box-side jurassic-unix__box-right\"></div>\n                        <div className=\"jurassic-unix__box-side jurassic-unix__box-left\"></div>\n                        <div className=\"jurassic-unix__box-side jurassic-unix__box-bottom\"></div>\n                        <div className={labelClass}>{this.props.name}</div>\n                    </div>\n                </PositionedContainer>\n            );   \n        }\n    }\n\n    class DataDisplay extends React.Component<DataDisplayProps>{\n        // TODO: Display data differently for each kind of object\n        render() {\n            const data: any = this.props.data||{};\n            return <div className=\"jurassic-unix__box-text\">\n              {data.picture && <div className=\"jurassic-unix__box-text-picture\"><img src={data.picture} alt=\"jurassic-unix\"></img></div>}\n              {Object.keys(data).filter((key: string) => key!=='picture').map(key => <div key={key}>{capitalize(key) + \": \"}{this.formatProp(data[key])}</div>)}\n              </div>;\n        }\n\n        formatProp(prop: string): any{\n            if(typeof prop === 'string' && prop.startsWith('http')){\n                return <a href={prop} target=\"_blank\" rel=\"noopener noreferrer\" onClick={e=> {\n                    e.stopPropagation();\n                }}>{prop}</a>;\n            } else if(Array.isArray(prop)){\n                return prop.join(', ');\n            } else{\n                return prop;\n            }\n        }\n    }\n\n    class PositionedContainer extends React.Component<PositionedContainerProps> {\n        render() {\n            const className = \"jurassic-unix__three-d-container\" + (this.props.animated ? \" jurassic-unix__animated\" : \"\");\n            return (\n                <div\n                    className={className}\n                    style={{\n                        transform: get3DRotation('x', this.props.viewRotation||0) + get3DTranslation(this.props.position),\n                    }}\n                >{this.props.children}</div>\n            );\n        }\n    }\n\n    return (\n        <SceneContainer/>\n    );\n}\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","import getPrototypeOf from \"./getPrototypeOf\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  return function () {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (isNativeReflectConstruct()) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}"],"sourceRoot":""}