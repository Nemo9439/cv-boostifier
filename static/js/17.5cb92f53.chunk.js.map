{"version":3,"sources":["skins/Swagger/Swagger.tsx","skins/Swagger/swaggerSpec.ts"],"names":["Swagger","props","profile","id","spec","getSpec","generateSpec","docExpansion","requestInterceptor","req","type","url","split","reverse","responseInterceptor","res","body","text","data","obj","JSON","stringify","resume","sections","Object","keys","name","basics","tags","paths","reduce","prev","section","assign","str","sectionCapitalized","toUpperCase","substring","toLowerCase","getPath"],"mappings":"0HAAA,iHAOO,SAASA,EAAQC,GAA0C,IACzDC,EAAWD,EAAXC,QAiBP,OACE,oCACE,yBAAKC,GAAG,mBACN,kBAAC,IAAD,CAAWC,KAnBI,SAACF,GACpB,OAAOG,kBAAQH,GAkBMI,CAAaJ,GACnBK,aAAa,OACbC,mBAjBU,SAACC,GAC1B,IAAMC,EAAOD,EAAIE,IAAIC,MAAM,KAAKC,UAAU,GAE1C,OADAJ,EAAIE,IAAJ,6DAAgED,GACzDD,GAeQK,oBAbW,SAACC,GAC3B,IAAML,EAAOK,EAAIJ,IAAIC,MAAM,KAAKC,UAAU,GAG1C,OADAE,EAAIC,KAAOD,EAAIE,KAAOF,EAAIG,KAAOH,EAAII,IAAMC,KAAKC,UAAUnB,EAAQQ,GAAO,KAAM,GACxEK,S,4JCJEV,EAAU,SAACiB,GACtB,IAAMC,EAAWC,OAAOC,KAAKH,GACvBI,EAAOJ,EAAOK,QAAUL,EAAOK,OAAOD,KAE5C,MAAO,CACL,QAAW,MACX,KAAQ,2BACR,SAAY,GACZ,KAAQ,CACN,YAAc,iCAAd,OAAgDA,EAAhD,WACA,QAAW,QACX,MAAQ,GAAR,OAAYA,EAAZ,gBAEFE,KAAM,CACJ,KAAQ,OACR,YAAe,IAEjBC,MAAON,EAASO,QAAO,SAACC,EAAMC,GAC5B,OAAOR,OAAOS,OAAOF,EAAdP,OAAA,IAAAA,CAAA,cACAQ,GAnCG,SAACA,GACf,IAHkBE,EAGZC,GAHYD,EAGoBF,GAHA,GAAGI,cAAgBF,EAAIG,UAAU,GAAGC,cAI1E,MAAO,CACL,IAAO,CACL,KAAQ,CAAC,QACT,QAAU,GAAV,OAAcH,EAAd,SACA,YAAc,6BAAd,OAA4CA,EAA5C,SACA,YAAc,MAAd,OAAqBA,EAArB,QACA,SAAY,CAAC,oBACb,UAAa,CACX,IAAO,CAAE,YAAe,2BAyBPI,CAAQP,OAE1B","file":"static/js/17.5cb92f53.chunk.js","sourcesContent":["import React, {PropsWithChildren} from 'react';\nimport './Swagger.scss';\nimport SwaggerUI from \"swagger-ui-react\"\nimport \"swagger-ui-react/swagger-ui.css\"\nimport {getSpec} from './swaggerSpec';\nimport {IProfileProps} from '../../models';\n\nexport function Swagger(props: PropsWithChildren<IProfileProps>) {\n  const {profile} = props;\n  const generateSpec = (profile: any) => {\n    return getSpec(profile);\n  };\n\n  const requestInterceptor = (req: any) => {\n    const type = req.url.split('/').reverse()[0];\n    req.url = `https://api.flickr.com/services/rest?format=json&t=${type}`;\n    return req;\n  };\n  const responseInterceptor = (res: any) => {\n    const type = res.url.split('=').reverse()[0];\n    // @ts-ignore\n    res.body = res.text = res.data = res.obj = JSON.stringify(profile[type], null, 2);\n    return res;\n  };\n\n  return (\n    <>\n      <div id=\"swagger-wrapper\">\n        <SwaggerUI spec={generateSpec(profile)}\n                   docExpansion=\"list\"\n                   requestInterceptor={requestInterceptor}\n                   responseInterceptor={responseInterceptor}\n\n        />\n      </div>\n    </>\n  )\n}\n","const capitalize = (str: string) => str[0].toUpperCase() + str.substring(1).toLowerCase();\n\nconst getPath = (section: string) => {\n  const sectionCapitalized = capitalize(section);\n  return {\n    \"get\": {\n      \"tags\": ['/api'],\n      \"summary\": `${sectionCapitalized} info`,\n      \"description\": `Returns an object with my ${sectionCapitalized} info`,\n      \"operationId\": `get${sectionCapitalized}Data`,\n      \"produces\": [\"application/json\"],\n      \"responses\": {\n        \"200\": { \"description\": \"successful operation\" }\n      }\n    }\n  }\n};\n\nexport const getSpec = (resume: any) => {\n  const sections = Object.keys(resume);\n  const name = resume.basics && resume.basics.name;\n\n  return {\n    \"swagger\": \"2.0\",\n    \"host\": \"https://cv.boostifier.io\",\n    \"basePath\": \"\",\n    \"info\": {\n      \"description\": `Fully working Swagger API for ${name} Resume`,\n      \"version\": \"1.0.3\",\n      \"title\": `${name} Resume API`\n    },\n    tags: {\n      \"name\": '/api',\n      \"description\": ''\n    },\n    paths: sections.reduce((prev, section) => {\n      return Object.assign(prev,{\n        [`/${section}`]: getPath(section)\n      });\n    }, {})\n  }\n};\n\n"],"sourceRoot":""}