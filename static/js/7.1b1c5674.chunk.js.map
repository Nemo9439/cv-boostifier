{"version":3,"sources":["themes/Sql/Sql.helper.ts"],"names":["createDb","alasql","resume","db","Database","Object","keys","forEach","table","sql","obj","Array","isArray","fields","dbTableName","length","fieldsStr","map","field","join","exec","tables","data"],"mappings":"mHAAA,gDAAO,IAAMA,EAAW,SAACC,EAAaC,GACpC,IAAMC,EAAK,IAAIF,EAAOG,SAgBtB,OAfAC,OAAOC,KAAKJ,GAAQK,SAAQ,SAAAC,GAC1B,IAAIC,EACEC,EAAMC,MAAMC,QAAQV,EAAOM,IAAUN,EAAOM,GAAO,GAAKN,EAAOM,GAC/DK,EAASH,GAAOL,OAAOC,KAAKI,GAC5BI,EAAwB,eAAVN,EAAyB,OAASA,EACtD,GAAIK,GAAUA,EAAOE,OAAQ,CAC3B,IAAMC,EAAYH,EAAOI,KAAI,SAAAC,GAAK,gBAAOA,EAAP,cAAuBC,KAAK,MAC9DV,EAAG,uBAAoBK,EAApB,aAAoCE,EAApC,UAEHP,EAAG,uBAAoBK,EAApB,eAELX,EAAGiB,KAAKX,GACRN,EAAGkB,OAAOP,GAAaQ,KAAOX,MAAMC,QAAQV,EAAOM,IAAUN,EAAOM,GAAS,CAACN,EAAOM,OAGhFL","file":"static/js/7.1b1c5674.chunk.js","sourcesContent":["export const createDb = (alasql: any, resume: any) => {\n  const db = new alasql.Database();\n  Object.keys(resume).forEach(table => {\n    let sql: string;\n    const obj = Array.isArray(resume[table]) ? resume[table][0] : resume[table];\n    const fields = obj && Object.keys(obj);\n    const dbTableName = table === 'references' ? 'refs' : table;\n    if (fields && fields.length) {\n      const fieldsStr = fields.map(field => `${field} string`).join(', ');\n      sql  = `CREATE TABLE ${dbTableName} (${fieldsStr})`;\n    } else {\n      sql  = `CREATE TABLE ${dbTableName} (_ string)`;\n    }\n    db.exec(sql);\n    db.tables[dbTableName].data = Array.isArray(resume[table]) ? resume[table] : [resume[table]];\n  });\n\n  return db;\n};\n"],"sourceRoot":""}