{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","skins/JurassicUnix/JurassicUnix.constants.tsx","skins/JurassicUnix/types/perspective-type.tsx","skins/JurassicUnix/JurassicUnix.config.tsx","skins/JurassicUnix/JurassicUnix.helpers.tsx","skins/JurassicUnix/JurassicUnix.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","SIZE_UNIT","SCENE_WIDTH","BASE_HUE","HUE_INCREMENT","BOX_MARGIN","PerspectiveType","THEME_NICE","name","baseHue","hueIncrement","THEME_MOVIE","getPerspectiveFor","x","y","z","width","perspectiveType","offset","objectTopCentre","SIDE_VIEW","windowAspectRatio","window","innerWidth","innerHeight","Math","max","viewPoint","addCoordinates","get3DTranslation","get3DRotation","direction","degrees","toUpperCase","position1","position2","pos1","pos2","isPrimitive","value","capitalize","str","spaced","split","reduce","newString","nextChar","char","toLowerCase","charAt","slice","mapBoxData","root","result","node","mapBoxDataChildren","boxKey","boxName","Array","isArray","id","children","item","childBoxKey","indexOf","itemName","getItemName","childNode","hasProperties","some","prop","childrenKeys","isCompoundArray","data","onlyChild","propsBoxKey","dataWithoutChildren","childKey","nameAttr","find","undefined","JurassicUnix","props","SELECTED_THEME","DEFAULT_PERSPECTIVE","BOX_STRUCTURE","profile","SceneContainer","state","perspective","focusedBoxId","handleClick","bind","boxProps","e","preventDefault","stopPropagation","this","TOP_VIEW","newState","absolutePosition","setState","themeClass","className","PositionedContainer","position","viewRotation","animated","Box","height","hue","onClick","BoxDataGroup","groupWidth","React","Component","boxes","boxCount","boxesInWidth","ceil","sqrt","boxSpace","boxWidth","boxHeight","box","index","xPos","zPos","floor","boxPosition","boxAbsolutePosition","childGroup","dataDisplay","DataDisplay","labelClass","style","picture","src","alt","map","formatProp","startsWith","href","rel","join","transform","_classCallCheck","instance","Constructor","TypeError","_defineProperties","descriptor","configurable","writable","_createClass","protoProps","staticProps","prototype","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_inherits","subClass","superClass","create","constructor","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","toString","call","_createSuper","Derived","Super","getPrototypeOf","NewTarget","possibleConstructorReturn","_getPrototypeOf","_assertThisInitialized","self","ReferenceError","_typeof","obj","Symbol","iterator","_possibleConstructorReturn","assertThisInitialized","_defineProperty"],"mappings":"sIAAA,+CAEA,SAASA,EAAQC,EAAQC,GACvB,IAAIC,EAAOC,OAAOD,KAAKF,GAEvB,GAAIG,OAAOC,sBAAuB,CAChC,IAAIC,EAAUF,OAAOC,sBAAsBJ,GACvCC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAEtDP,EAAKQ,KAAKC,MAAMT,EAAMG,GAGxB,OAAOH,EAGM,SAASU,EAAeC,GACrC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAE/CA,EAAI,EACNf,EAAQI,OAAOc,IAAS,GAAMC,SAAQ,SAAUC,GAC9C,YAAeN,EAAQM,EAAKF,EAAOE,OAE5BhB,OAAOiB,0BAChBjB,OAAOkB,iBAAiBR,EAAQV,OAAOiB,0BAA0BH,IAEjElB,EAAQI,OAAOc,IAASC,SAAQ,SAAUC,GACxChB,OAAOmB,eAAeT,EAAQM,EAAKhB,OAAOK,yBAAyBS,EAAQE,OAKjF,OAAON,I,gCCjCT,+NAAO,IAAMU,EAAY,KACZC,EAAc,IACdC,EAAW,IACXC,GAAiB,IACjBC,EAAa,I,gCCJnB,IAAKC,EAAZ,uD,SAAYA,O,yBAAAA,I,wBAAAA,M,4DCAZ,8FAAO,IAAMC,EAAa,CACtBC,KAAM,4BACNC,QAAS,IACTC,aAAc,IAGLC,EAAc,CACvBH,KAAM,6BACNC,QAAS,IACTC,cAAe,M,uYCHZ,SAASE,EAAkBC,EAAWC,EAAWC,EAAWC,EAAeC,GAM9E,IACIC,EADEC,EAA+B,CAAEN,EAAU,IAANG,EAAYH,EAAGC,GAAIA,EAAGC,EAAS,GAANC,EAAYD,GAGhF,GAAGE,IAAkBX,kBAAgBc,UACjCF,EAAQ,CAAEL,EAAG,EAAGC,EAAS,GAANE,EAAWD,EAAU,IAANC,OAChC,CACF,IAAMK,EAA4BC,OAAOC,WAAWD,OAAOE,YAC3DN,EAAQ,CAAEL,EAAG,EAAGC,EAAGE,EAAMS,KAAKC,IAAI,EAAGL,GAAmB,GAAKN,EAAG,GAGpE,MAAO,CAACY,UAAUC,EAAeT,EAAiBD,GAASD,mBAGxD,SAASY,EAAiBX,GAC7B,MACI,eACAA,EAAOL,EACPZ,YACA,KACAiB,EAAOJ,EACPb,YACA,KACAiB,EAAOH,EACPd,YACA,IAID,SAAS6B,EAAcC,EAAwBC,GAClD,MACI,SAASD,EAAUE,cAAc,IACjCD,EACA,OAID,SAASJ,EAAeM,EAAyBC,GACpD,IAAMC,EAAOF,GAAa,CAAErB,EAAG,EAAGC,EAAG,EAAGC,EAAG,GACrCsB,EAAOF,GAAa,CAAEtB,EAAG,EAAGC,EAAG,EAAGC,EAAG,GAE3C,MAAO,CACHF,EAAGuB,EAAKvB,EAAIwB,EAAKxB,EACjBC,EAAGsB,EAAKtB,EAAIuB,EAAKvB,EACjBC,EAAGqB,EAAKrB,EAAIsB,EAAKtB,GAIlB,SAASuB,EAAYC,GACxB,OAAOA,IAAU1D,OAAO0D,GAerB,SAASC,EAAWC,GACvB,IAAMC,EAAiBD,EAAIE,MAAM,IAAIC,QAAO,SAACC,EAAWC,GAAZ,OAAuBD,IAIlDE,EAJyED,KAK1EC,EAAKd,eAAiBc,IAASA,EAAKC,cALiD,IAAIF,EAASE,cAAeF,GAIrI,IAAqBC,IAJ2H,IAC5I,MAAM,GAAN,OAAUL,EAAOO,OAAO,GAAGhB,eAA3B,OAA2CS,EAAOQ,MAAM,IAOrD,SAASC,EAAWC,GACvB,IAAIC,EAAoB,GAClBzE,EAAOC,OAAOD,KAAKwE,GAOzB,OANAxE,EAAKgB,SAAQ,SAACC,GACV,IAAMyD,EA6Bd,SAASC,EAAmBH,EAAWI,EAAgBC,GACnD,GAAInB,EAAYc,GACZ,OAAO,KAGX,GAAIM,MAAMC,QAAQP,GAAO,CACrB,GAAoB,IAAhBA,EAAK1D,OACL,OAAO,KAEX,GAAoB,IAAhB0D,EAAK1D,OACL,OAAO6D,EAAmBH,EAAK,GAAII,EAAQC,GAG/C,IAAMH,EAAgB,CAClBM,GAAIJ,EACJhD,KAAMiD,EACNI,SAAU,IAWd,OATAT,EAAKxD,SAAQ,SAAAkE,GACT,IAAMC,EAAcP,EAAS,IAAMJ,EAAKY,QAAQF,GAC1CG,EAAWC,EAAYJ,GACvBK,EAAYZ,EAAmBO,EAAMC,EAAaE,GACpDE,GACAb,EAAKO,SAASzE,KAAK+E,MAIpBb,EAGX,IAAM1E,EAAOC,OAAOD,KAAKwE,GACnBgB,EAAgBxF,EAAKyF,MAAK,SAAAxE,GAAG,OArFVyE,EAqFkClB,EAAKvD,IApFxD6D,MAAMC,QAAQW,IAAShC,EAAYgC,GAD/C,IAA6BA,KAsFnBC,EAAe3F,EAAKI,QAAO,SAAAa,GAAG,OAlFZyE,EAkFoClB,EAAKvD,IAjFzD6D,MAAMC,QAAQW,KAAUhC,EAAYgC,IAGhD,SAAyBA,GACrB,OAAOZ,MAAMC,QAAQW,IAASA,EAAK5E,OAAS,IAAM4C,EAAYgC,EAAK,IA6EOE,CAAgBpB,EAAKvD,IAlFnG,IAA4ByE,KAoFxB,GAAIF,GAAyC,IAAxBG,EAAa7E,OAC9B,MAAO,CACHkE,GAAIJ,EACJhD,KAAMiD,EACNgB,KAAMrB,EACNS,SAAU,IAIlB,IAAKO,GAAyC,IAAxBG,EAAa7E,OAAc,CAC7C,IAAMqE,EAAcP,EAAS,IAAMe,EAAa,GAC1CG,EAAYtB,EAAKmB,EAAa,IACpC,OAAOhB,EAAmBmB,EAAWX,OAAuBG,EAAYQ,IAG5E,IAAMpB,EAAgB,CAClBM,GAAIJ,EACJhD,KAAMiD,EACNI,SAAU,IAGd,GAAIO,EAAe,CACf,IAAMO,EAAcnB,OACdoB,EAAoB,eAAIxB,GAC9BmB,EAAa3E,SAAQ,SAAAC,GAAG,cAAS+E,EAAoB/E,MAErDyD,EAAKO,SAASzE,KAAK,CACfwE,GAAIe,EACJnE,KAAM,OACNiE,KAAMG,EACNf,SAAU,KAYlB,OARAU,EAAa3E,SAAQ,SAAAiF,GACjB,IAAMd,EAAcP,EAAS,IAAMqB,EAAW,IAAMN,EAAaP,QAAQa,GACnEV,EAAYZ,EAAmBH,EAAKyB,GAAWd,EAAavB,EAAWqC,IACzEV,GACAb,EAAKO,SAASzE,KAAK+E,MAIpBb,EAzGwBC,CAAmBH,EAAKvD,GAAMA,EAAM,IAAMjB,EAAKoF,QAAQnE,GAAM2C,EAAW3C,IAC/FyD,GACAD,EAAOjE,KAAKkE,MAGbD,EAGX,SAASa,EAAYJ,GAgBjB,IAAMgB,EAA6B,CAAC,UAAW,OAAQ,YAAa,OAAQ,WAAY,OAAQ,eAAgB,WAAWC,MAAK,SAAAD,GAAQ,YAAmBE,IAAjBlB,EAAKgB,MAE/I,OAAOA,EAAShB,EAAKgB,GAAU,K,wMCzF5B,SAASG,EAAaC,GACzB,IAAMC,EAAiBxE,cACjByE,EAAmCxE,4BACrC,EACA,EACAV,cACAA,cACAI,kBAAgBc,WAGdiE,EAA2BlC,qBAAW+B,EAAMI,SAE5CC,EAZ4D,kDAa9D,WAAYL,GAA6B,IAAD,8BACpC,cAAMA,IACDM,MAAQ,CACTC,YAAY,eAAML,GAClBM,kBAAcV,GAElB,EAAKW,YAAc,EAAKA,YAAYC,KAAjB,gBANiB,EAbsB,wDAsBlDC,EAAoBC,GAG5B,GAFAA,EAAEC,iBACFD,EAAEE,uBAE8BhB,IAA5BiB,KAAKT,MAAME,cACXO,KAAKT,MAAME,eAAiBG,EAASjC,GACvC,CACE,IAAM3C,EAAmC4E,EAASpB,KAAOnE,kBAAgB4F,SAAW5F,kBAAgBc,UAE9F+E,EAAW,CACbV,YAAa7E,4BACTiF,EAASO,iBAAiBvF,EAC1BgF,EAASO,iBAAiBtF,EAC1B+E,EAASO,iBAAiBrF,EAAI8E,EAAS7E,MACvC6E,EAAS7E,MACTC,GAEJyE,aAAcG,EAASjC,IAE3BqC,KAAKI,SAASF,OACX,CAEH,IAAMA,EAAW,CACbV,YAAY,eAAML,GAClBM,kBAAcV,GAElBiB,KAAKI,SAASF,MAhDwC,+BAqD1D,IAAMG,EAAanB,EAAe3E,KAClC,OACI,yBAAK+F,UAAW,0BAA4BD,GACxC,yBAAKC,UAAU,+EACX,kBAACC,EAAD,CACIC,SAAUR,KAAKT,MAAMC,YAAY9D,UACjC+E,aAAcT,KAAKT,MAAMC,YAAYxE,kBAAkBX,kBAAgBc,WAAW,IAAI,GACtFuF,UAAU,GAEV,kBAACC,EAAD,CACIH,SAAU,CAAE5F,EAAG,EAAGC,EAAG,EAAGC,EAAG,GAC3BqF,iBAAkB,CAAEvF,EAAG,EAAGC,EAAG,EAAGC,EAAG,GACnCC,MAAOd,cACP2G,OAAQ3G,cAAc,EACtB4G,IAAK3B,EAAe1E,QACpBD,KAAM,GACNoD,GAAI,OACJ/D,IAAK,OACLkH,QAASd,KAAKN,aAEd,kBAACqB,EAAD,CACIvC,KAAMY,EACN4B,WAAY/G,cACZ4G,IAAK3B,EAAe1E,QAAU0E,EAAezE,aAC7CqG,QAASd,KAAKN,sBA7EoB,GAYrCuB,IAAMC,WA2E7BH,EAvF4D,uKAwFpD,IAAD,OACCI,EAAuB,GACvBC,EAAWpB,KAAKf,MAAMT,KAAK/E,OAC3B4H,EAAe7F,KAAK8F,KAAK9F,KAAK+F,KAAKH,IACnCI,EAAWxB,KAAKf,MAAM+B,WAAaK,EACnCI,GAAY,EAAI,EAAIrH,cAAcoH,EAClCE,EAAYD,EAAW,EA6C7B,OA3CAzB,KAAKf,MAAMT,KAAK7E,SAAQ,SAACgI,EAAcC,GACnC,IAAMC,EAAOD,EAAQP,EACfS,EAAOtG,KAAKuG,MAAMH,EAAQP,GAE1BW,EAAc,CAChBpH,GAAIiH,EAAOzH,cAAcoH,EACzB3G,EAAG,EAAI6G,EACP5G,GAAIgH,EAAO1H,cAAcoH,GAGvBS,EAAsBtG,yBACxBqG,EACA,EAAK/C,MAAMkB,kBAGT+B,EAAaP,EAAI/D,SACnB,kBAACmD,EAAD,CACIZ,iBAAkB8B,EAClBzD,KAAMmD,EAAI/D,SACVoD,WAAYS,EACZZ,IAAK,EAAK5B,MAAM4B,IAAM1G,gBACtB2G,QAAS,EAAK7B,MAAM6B,eAExB/B,EAEJoC,EAAMhI,KACF,kBAACwH,EAAD,CACIH,SAAUwB,EACV7B,iBAAkB8B,EAClBlH,MAAO0G,EACPb,OAAQc,EACRb,IAAK,EAAK5B,MAAM4B,IAChBtG,KAAMoH,EAAIpH,KACVoD,GAAIgE,EAAIhE,GACR/D,IAAK+H,EAAIhE,GACTa,KAAMmD,EAAInD,KACVsC,QAAS,EAAK7B,MAAM6B,SAEnBoB,OAKN,oCAAGf,OA3IgD,GAuFvCF,IAAMC,WAwD3BP,EA/I4D,uKAgJpD,IAAD,OACCwB,EAAcnC,KAAKf,MAAMT,KAAO,kBAAC4D,EAAD,CAAa5D,KAAMwB,KAAKf,MAAMT,YAAuBO,EAErFsD,EAAqB,4BADSrC,KAAKf,MAAM1E,KAAKd,OAAO,IAA0B,iBAApBuG,KAAKf,MAAM1E,KACA,uCAAuC,IACnH,OACI,kBAACgG,EAAD,CAAqBC,SAAUR,KAAKf,MAAMuB,UACtC,yBACIF,UAAU,qBACVQ,QAAS,SAACjB,GAAD,OAAO,EAAKZ,MAAM6B,QAAQ,EAAK7B,MAAOY,IAC/CyC,MAAO,CACH,eAAgBtC,KAAKf,MAAMlE,MAAQf,YACnC,cAAegG,KAAKf,MAAMlE,MAAQf,YAClC,eAAgBgG,KAAKf,MAAM2B,OAAS5G,YACpC,QAASgG,KAAKf,MAAM4B,MAGvBb,KAAKf,MAAMrB,SACZ,yBAAK0C,UAAU,kDACV6B,GAEL,yBAAK7B,UAAU,oDACf,yBAAKA,UAAU,qDACf,yBAAKA,UAAU,qDACf,yBAAKA,UAAU,oDACf,yBAAKA,UAAU,sDACf,yBAAKA,UAAW+B,GAAarC,KAAKf,MAAM1E,YAzKM,GA+IhD0G,IAAMC,WAiClBkB,EAhL4D,uKAkLpD,IAAD,OACC5D,EAAYwB,KAAKf,MAAMT,MAAM,GACnC,OAAO,yBAAK8B,UAAU,2BACnB9B,EAAK+D,SAAW,yBAAKjC,UAAU,mCAAkC,yBAAKkC,IAAKhE,EAAK+D,QAASE,IAAI,mBAC7F7J,OAAOD,KAAK6F,GAAMzF,QAAO,SAACa,GAAD,MAAuB,YAANA,KAAiB8I,KAAI,SAAA9I,GAAG,OAAI,yBAAKA,IAAKA,GAAM2C,qBAAW3C,GAAO,KAAM,EAAK+I,WAAWnE,EAAK5E,WAtL5E,iCA0LnDyE,GACP,MAAmB,kBAATA,GAAqBA,EAAKuE,WAAW,QACpC,uBAAGC,KAAMxE,EAAM/E,OAAO,SAASwJ,IAAI,sBAAsBhC,QAAS,SAAAjB,GACrEA,EAAEE,oBACF1B,GACEZ,MAAMC,QAAQW,GACbA,EAAK0E,KAAK,MAEV1E,MAlM+C,GAgLxC4C,IAAMC,WAuB1BX,EAvM4D,uKAyM1D,IAAMD,EAAY,oCAAsCN,KAAKf,MAAMyB,SAAW,2BAA6B,IAC3G,OACI,yBACIJ,UAAWA,EACXgC,MAAO,CACHU,UAAWnH,wBAAc,IAAKmE,KAAKf,MAAMwB,cAAc,GAAK7E,2BAAiBoE,KAAKf,MAAMuB,YAE9FR,KAAKf,MAAMrB,cAhNyC,GAuMhCqD,IAAMC,WAcxC,OACI,kBAAC5B,EAAD,Q,iCC/OO,SAAS2D,EAAgBC,EAAUC,GAChD,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,qCAFxB,mC,iCCAA,SAASC,EAAkB/J,EAAQ2F,GACjC,IAAK,IAAI1F,EAAI,EAAGA,EAAI0F,EAAMxF,OAAQF,IAAK,CACrC,IAAI+J,EAAarE,EAAM1F,GACvB+J,EAAWpK,WAAaoK,EAAWpK,aAAc,EACjDoK,EAAWC,cAAe,EACtB,UAAWD,IAAYA,EAAWE,UAAW,GACjD5K,OAAOmB,eAAeT,EAAQgK,EAAW1J,IAAK0J,IAInC,SAASG,EAAaN,EAAaO,EAAYC,GAG5D,OAFID,GAAYL,EAAkBF,EAAYS,UAAWF,GACrDC,GAAaN,EAAkBF,EAAaQ,GACzCR,EAbT,mC,iCCAe,SAASU,EAAgBC,EAAGC,GAMzC,OALAF,EAAkBjL,OAAOoL,gBAAkB,SAAyBF,EAAGC,GAErE,OADAD,EAAEG,UAAYF,EACPD,IAGcA,EAAGC,GCLb,SAASG,EAAUC,EAAUC,GAC1C,GAA0B,oBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIhB,UAAU,sDAGtBe,EAASP,UAAYhL,OAAOyL,OAAOD,GAAcA,EAAWR,UAAW,CACrEU,YAAa,CACXhI,MAAO6H,EACPX,UAAU,EACVD,cAAc,KAGda,GAAY,EAAeD,EAAUC,G,mHCb5B,SAASG,IACtB,GAAuB,qBAAZC,UAA4BA,QAAQC,UAAW,OAAO,EACjE,GAAID,QAAQC,UAAUC,KAAM,OAAO,EACnC,GAAqB,oBAAVC,MAAsB,OAAO,EAExC,IAEE,OADAC,KAAKhB,UAAUiB,SAASC,KAAKN,QAAQC,UAAUG,KAAM,IAAI,iBAClD,EACP,MAAO/E,GACP,OAAO,G,aCNI,SAASkF,EAAaC,GACnC,OAAO,WACL,IACI5H,EADA6H,EAAQ,OAAAC,EAAA,GAAeF,GAG3B,GAAI,IAA4B,CAC9B,IAAIG,EAAY,OAAAD,EAAA,GAAelF,MAAMsE,YACrClH,EAASoH,QAAQC,UAAUQ,EAAOzL,UAAW2L,QAE7C/H,EAAS6H,EAAM7L,MAAM4G,KAAMxG,WAG7B,OAAO,OAAA4L,EAAA,GAA0BpF,KAAM5C,M,iCCf5B,SAASiI,EAAgBvB,GAItC,OAHAuB,EAAkBzM,OAAOoL,eAAiBpL,OAAOsM,eAAiB,SAAyBpB,GACzF,OAAOA,EAAEG,WAAarL,OAAOsM,eAAepB,KAEvBA,GAJzB,mC,iCCAe,SAASwB,EAAuBC,GAC7C,QAAa,IAATA,EACF,MAAM,IAAIC,eAAe,6DAG3B,OAAOD,EALT,mC,iCCAe,SAASE,EAAQC,GAa9B,OATED,EADoB,oBAAXE,QAAoD,kBAApBA,OAAOC,SACtC,SAAiBF,GACzB,cAAcA,GAGN,SAAiBA,GACzB,OAAOA,GAAyB,oBAAXC,QAAyBD,EAAIpB,cAAgBqB,QAAUD,IAAQC,OAAO/B,UAAY,gBAAkB8B,IAI9GA,G,+CCXF,SAASG,EAA2BN,EAAMT,GACvD,OAAIA,GAA2B,WAAlBW,EAAQX,IAAsC,oBAATA,EAI3C,OAAAgB,EAAA,GAAsBP,GAHpBT,I,iCCJI,SAASiB,EAAgBL,EAAK9L,EAAK0C,GAYhD,OAXI1C,KAAO8L,EACT9M,OAAOmB,eAAe2L,EAAK9L,EAAK,CAC9B0C,MAAOA,EACPpD,YAAY,EACZqK,cAAc,EACdC,UAAU,IAGZkC,EAAI9L,GAAO0C,EAGNoJ,EAZT","file":"static/js/9.fe6f2e3e.chunk.js","sourcesContent":["import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export const SIZE_UNIT = \"vw\";\nexport const SCENE_WIDTH = 1000;\nexport const BASE_HUE = 340;\nexport const HUE_INCREMENT = -130;\nexport const BOX_MARGIN = 0.2; // How much extra space there is around each box\n","export enum PerspectiveType{\n    SIDE_VIEW,\n    TOP_VIEW\n}\n","export const THEME_NICE = { \n    name: \"jurassic-unix__theme-nice\", \n    baseHue: 200, \n    hueIncrement: 90,\n};\n\nexport const THEME_MOVIE = {\n    name: \"jurassic-unix__theme-movie\",\n    baseHue: 340,\n    hueIncrement: -130,\n};\n","import {SIZE_UNIT} from \"./JurassicUnix.constants\";\nimport {Coordinates} from './types/coordinates';\nimport {PerspectiveType} from \"./types/perspective-type\";\nimport {Perspective} from \"./types/perspective\";\nimport {BoxData} from \"./types/box-data\";\n\nexport function getPerspectiveFor(x: number, y: number, z: number, width: number, perspectiveType: PerspectiveType): Perspective {\n    // x, y, z: coordinates of the lower left corner of the object closest to the observer (with maximum z)\n    // width: the width of the object we're looking at (size in direction x)\n    // output: offset to which we need to move the view in order to see the object\n\n    // First we determine where the centre of the object's top side is (For the sake of simplicity we assume the object's width equals its length)\n    const objectTopCentre: Coordinates = { x: -width*0.5 - x, y: -y, z: width*0.5 - z };\n    let offset: Coordinates;\n\n    if(perspectiveType===PerspectiveType.SIDE_VIEW){\n        offset= { x: 0, y: width*0.4, z: -width*0.8 };\n    } else{\n        const windowAspectRatio: number = window.innerWidth/window.innerHeight;\n        offset= { x: 0, y: width*Math.max(1, windowAspectRatio)*0.6, z: 0 };\n    }\n\n    return {viewPoint:addCoordinates(objectTopCentre, offset), perspectiveType};\n}\n\nexport function get3DTranslation(offset: Coordinates): string {\n    return (\n        \"translate3d(\" +\n        offset.x +\n        SIZE_UNIT +\n        \", \" +\n        offset.y +\n        SIZE_UNIT +\n        \", \" +\n        offset.z +\n        SIZE_UNIT +\n        \")\"\n    );\n}\n\nexport function get3DRotation(direction: 'x'|'y'|'z', degrees: number): string {\n    return (\n        \"rotate\"+direction.toUpperCase()+\"(\" +\n        degrees+\n        \"deg)\"\n    );\n}\n\nexport function addCoordinates(position1?: Coordinates, position2?: Coordinates): Coordinates {\n    const pos1 = position1 || { x: 0, y: 0, z: 0 };\n    const pos2 = position2 || { x: 0, y: 0, z: 0 };\n\n    return {\n        x: pos1.x + pos2.x,\n        y: pos1.y + pos2.y,\n        z: pos1.z + pos2.z,\n    };\n}\n\nexport function isPrimitive(value: any) {\n    return value !== Object(value);\n}\n\nfunction isPrimitiveProperty(prop: any) {\n    return !Array.isArray(prop) && isPrimitive(prop)\n}\n\nfunction isCompoundProperty(prop: any) {\n    return !Array.isArray(prop) && !isPrimitive(prop)\n}\n\nfunction isCompoundArray(prop: any) {\n    return Array.isArray(prop) && prop.length > 0 && !isPrimitive(prop[0])\n}\n\nexport function capitalize(str: string) {\n    const spaced: string = str.split('').reduce((newString, nextChar)=>newString+(isUpperCase(nextChar)?(' '+nextChar.toLowerCase()):nextChar), '');\n    return `${spaced.charAt(0).toUpperCase()}${spaced.slice(1)}`;\n}\n\nfunction isUpperCase(char: string){\n    return char === char.toUpperCase() && char !== char.toLowerCase();\n}\n\nexport function mapBoxData(root: any): BoxData[] {\n    let result: BoxData[] = [];\n    const keys = Object.keys(root)\n    keys.forEach((key) => {\n        const node: BoxData|null = mapBoxDataChildren(root[key], key + '-' + keys.indexOf(key), capitalize(key))\n        if (node) {\n            result.push(node);\n        }\n    });\n    return result;\n}\n\nfunction getItemName(item: any): string {\n    // TODO: figure out a nicer way to get the box name\n\n    // The box name is in one of these attributes, depending on what kind of data we have:\n    /*Award=>awarder\n        Education=>area or studyType\n        Interest=>name\n        Language=>language\n        Project=>name\n        Publication=>name\n        Reference=>name\n        Skill=>name\n        Volunteer=>organization\n        Work=>name\n        Profile=>network*/\n\n    const nameAttr: string|undefined = ['awarder', 'area', 'studyType', 'name', 'language', 'name', 'organization', 'network'].find(nameAttr=>item[nameAttr]!==undefined);\n\n    return nameAttr?item[nameAttr]:'';\n}\n\nfunction mapBoxDataChildren(root: any, boxKey: string, boxName: string): BoxData | null {\n    if (isPrimitive(root)) {\n        return null;\n    }\n\n    if (Array.isArray(root)) {\n        if (root.length === 0) {\n            return null;\n        }\n        if (root.length === 1) {\n            return mapBoxDataChildren(root[0], boxKey, boxName);\n        }\n\n        const node: BoxData = {\n            id: boxKey,\n            name: boxName,\n            children: [],\n        };\n        root.forEach(item => {\n            const childBoxKey = boxKey + '-' + root.indexOf(item);\n            const itemName = getItemName(item)\n            const childNode = mapBoxDataChildren(item, childBoxKey, itemName);\n            if (childNode) {\n                node.children.push(childNode);\n            }\n        });\n\n        return node;\n    }\n\n    const keys = Object.keys(root);\n    const hasProperties = keys.some(key => isPrimitiveProperty(root[key]));\n    const childrenKeys = keys.filter(key => (isCompoundProperty(root[key]) || isCompoundArray(root[key])));\n\n    if (hasProperties && childrenKeys.length === 0) {\n        return {\n            id: boxKey,\n            name: boxName,\n            data: root,\n            children: [],\n        };\n    }\n\n    if (!hasProperties && childrenKeys.length === 1) {\n        const childBoxKey = boxKey + '-' + childrenKeys[0];\n        const onlyChild = root[childrenKeys[0]];\n        return mapBoxDataChildren(onlyChild, childBoxKey + '-' + 0, getItemName(onlyChild));\n    }\n\n    const node: BoxData = {\n        id: boxKey,\n        name: boxName,\n        children: [],\n    };\n\n    if (hasProperties) {\n        const propsBoxKey = boxKey + '-' + 0;\n        const dataWithoutChildren={...root}\n        childrenKeys.forEach(key=>delete dataWithoutChildren[key]); // We are going to add childrenKeys as separate boxes, so we can remove them from here\n\n        node.children.push({\n            id: propsBoxKey,\n            name: \"Info\",\n            data: dataWithoutChildren,\n            children: [],\n        });\n    }\n\n    childrenKeys.forEach(childKey => {\n        const childBoxKey = boxKey + '-' + childKey + '-' + childrenKeys.indexOf(childKey);\n        const childNode = mapBoxDataChildren(root[childKey], childBoxKey, capitalize(childKey));\n        if (childNode) {\n            node.children.push(childNode);\n        }\n    });\n\n    return node;\n}\n","import './JurassicUnix.scss';\n\nimport React, {PropsWithChildren} from 'react';\nimport {IProfileProps} from '../../models';\nimport {THEME_MOVIE} from './JurassicUnix.config';\nimport {BOX_MARGIN, HUE_INCREMENT, SCENE_WIDTH, SIZE_UNIT} from './JurassicUnix.constants';\nimport {BoxData} from './types/box-data';\nimport {\n    getPerspectiveFor,\n    addCoordinates,\n    get3DTranslation,\n    get3DRotation,\n    mapBoxData,\n    capitalize,\n} from './JurassicUnix.helpers';\nimport {PerspectiveType} from \"./types/perspective-type\";\nimport {Perspective} from \"./types/perspective\";\nimport {JurassicUnixState} from \"./types/jurassic-unix-state\";\nimport {SceneContainerProps} from \"./types/scene-container-props\";\nimport {BoxDataGroupProps} from \"./types/box-data-group-props\";\nimport {BoxProps} from \"./types/box-props\";\nimport {PositionedContainerProps} from \"./types/positioned-container-props\";\nimport {DataDisplayProps} from \"./types/data-display-props\";\n\n\nexport function JurassicUnix(props: PropsWithChildren<IProfileProps>) {\n    const SELECTED_THEME = THEME_MOVIE;\n    const DEFAULT_PERSPECTIVE: Perspective = getPerspectiveFor(\n        0,\n        0,\n        SCENE_WIDTH,\n        SCENE_WIDTH,\n        PerspectiveType.SIDE_VIEW\n    );\n\n    const BOX_STRUCTURE: BoxData[] = mapBoxData(props.profile);\n\n    class SceneContainer extends React.Component<SceneContainerProps, JurassicUnixState> {\n        constructor(props: SceneContainerProps) {\n            super(props);\n            this.state = {\n                perspective: { ...DEFAULT_PERSPECTIVE },\n                focusedBoxId: undefined,\n            };\n            this.handleClick = this.handleClick.bind(this);\n        }\n\n        handleClick(boxProps: BoxProps, e: MouseEvent) {\n            e.preventDefault();\n            e.stopPropagation();\n            if (\n                this.state.focusedBoxId === undefined ||\n                this.state.focusedBoxId !== boxProps.id\n            ) {\n                const perspectiveType: PerspectiveType = boxProps.data ? PerspectiveType.TOP_VIEW : PerspectiveType.SIDE_VIEW;\n                // Focus on the clicked box\n                const newState = {\n                    perspective: getPerspectiveFor(\n                        boxProps.absolutePosition.x,\n                        boxProps.absolutePosition.y,\n                        boxProps.absolutePosition.z + boxProps.width,\n                        boxProps.width,\n                        perspectiveType\n                    ),\n                    focusedBoxId: boxProps.id,\n                };\n                this.setState(newState)\n            } else {\n                // The clicked box was already focused, zoom out to wide view\n                const newState = {\n                    perspective: { ...DEFAULT_PERSPECTIVE },\n                    focusedBoxId: undefined,\n                };\n                this.setState(newState)\n            }\n        }\n\n        render() {\n            const themeClass = SELECTED_THEME.name;\n            return (\n                <div className={\"jurassic-unix__wrapper \" + themeClass}>\n                    <div className=\"jurassic-unix__three-d-container jurassic-unix__translated-to-screen-centre\">\n                        <PositionedContainer\n                            position={this.state.perspective.viewPoint}\n                            viewRotation={this.state.perspective.perspectiveType===PerspectiveType.SIDE_VIEW?-35:-90}\n                            animated={true}\n                        >\n                            <Box\n                                position={{ x: 0, y: 0, z: 0 }}\n                                absolutePosition={{ x: 0, y: 0, z: 0 }}\n                                width={SCENE_WIDTH}\n                                height={SCENE_WIDTH / 5}\n                                hue={SELECTED_THEME.baseHue}\n                                name={\"\"}\n                                id={\"base\"}\n                                key={\"base\"}\n                                onClick={this.handleClick}\n                            >\n                                <BoxDataGroup\n                                    data={BOX_STRUCTURE}\n                                    groupWidth={SCENE_WIDTH}\n                                    hue={SELECTED_THEME.baseHue + SELECTED_THEME.hueIncrement}\n                                    onClick={this.handleClick}\n                                />\n                            </Box>\n                        </PositionedContainer>\n                    </div>\n                </div>\n            );\n        }\n    }\n\n    class BoxDataGroup extends React.Component<BoxDataGroupProps> {\n        render() {\n            const boxes: JSX.Element[] = [];\n            const boxCount = this.props.data.length;\n            const boxesInWidth = Math.ceil(Math.sqrt(boxCount));\n            const boxSpace = this.props.groupWidth / boxesInWidth;\n            const boxWidth = (1 - 2 * BOX_MARGIN) * boxSpace;\n            const boxHeight = boxWidth / 5;\n\n            this.props.data.forEach((box: BoxData, index: number) => {\n                const xPos = index % boxesInWidth;\n                const zPos = Math.floor(index / boxesInWidth);\n    \n                const boxPosition = {\n                    x: (xPos + BOX_MARGIN) * boxSpace,\n                    y: 0 - boxHeight,\n                    z: (zPos + BOX_MARGIN) * boxSpace,\n                };\n    \n                const boxAbsolutePosition = addCoordinates(\n                    boxPosition,\n                    this.props.absolutePosition\n                );\n    \n                const childGroup = box.children ? (\n                    <BoxDataGroup\n                        absolutePosition={boxAbsolutePosition}\n                        data={box.children}\n                        groupWidth={boxWidth}\n                        hue={this.props.hue + HUE_INCREMENT}\n                        onClick={this.props.onClick}\n                    />\n                ) : undefined;\n    \n                boxes.push(\n                    <Box\n                        position={boxPosition}\n                        absolutePosition={boxAbsolutePosition}\n                        width={boxWidth}\n                        height={boxHeight}\n                        hue={this.props.hue}\n                        name={box.name}\n                        id={box.id}\n                        key={box.id}\n                        data={box.data}\n                        onClick={this.props.onClick}\n                    >\n                        {childGroup}\n                    </Box>\n                );\n            });\n    \n            return <>{boxes}</>;\n        }\n    }\n\n    class Box extends React.Component<BoxProps> {\n        render() {\n            const dataDisplay = this.props.data ? <DataDisplay data={this.props.data}></DataDisplay> : undefined;\n            const shouldUseSmallFont: boolean = this.props.name.length>10 && this.props.name !== 'Publications';\n            const labelClass: string = \"jurassic-unix__box-label\" + (shouldUseSmallFont?' jurassic-unix__box-label--smallfont':'')\n            return (\n                <PositionedContainer position={this.props.position}>\n                    <div\n                        className=\"jurassic-unix__box\"\n                        onClick={(e) => this.props.onClick(this.props, e as any)}\n                        style={{\n                            \"--box-length\": this.props.width + SIZE_UNIT,\n                            \"--box-width\": this.props.width + SIZE_UNIT,\n                            \"--box-height\": this.props.height + SIZE_UNIT,\n                            \"--hue\": this.props.hue,\n                        } as any}\n                    >\n                        {this.props.children}\n                        <div className=\"jurassic-unix__box-side jurassic-unix__box-top\">\n                            {dataDisplay}\n                        </div>\n                        <div className=\"jurassic-unix__box-side jurassic-unix__box-back\"></div>\n                        <div className=\"jurassic-unix__box-side jurassic-unix__box-front\"></div>\n                        <div className=\"jurassic-unix__box-side jurassic-unix__box-right\"></div>\n                        <div className=\"jurassic-unix__box-side jurassic-unix__box-left\"></div>\n                        <div className=\"jurassic-unix__box-side jurassic-unix__box-bottom\"></div>\n                        <div className={labelClass}>{this.props.name}</div>\n                    </div>\n                </PositionedContainer>\n            );   \n        }\n    }\n\n    class DataDisplay extends React.Component<DataDisplayProps>{\n        // TODO: Display data differently for each kind of object\n        render() {\n            const data: any = this.props.data||{};\n            return <div className=\"jurassic-unix__box-text\">\n              {data.picture && <div className=\"jurassic-unix__box-text-picture\"><img src={data.picture} alt=\"jurassic-unix\"></img></div>}\n              {Object.keys(data).filter((key: string) => key!=='picture').map(key => <div key={key}>{capitalize(key) + \": \"}{this.formatProp(data[key])}</div>)}\n              </div>;\n        }\n\n        formatProp(prop: string): any{\n            if(typeof prop === 'string' && prop.startsWith('http')){\n                return <a href={prop} target=\"_blank\" rel=\"noopener noreferrer\" onClick={e=> {\n                    e.stopPropagation();\n                }}>{prop}</a>;\n            } else if(Array.isArray(prop)){\n                return prop.join(', ');\n            } else{\n                return prop;\n            }\n        }\n    }\n\n    class PositionedContainer extends React.Component<PositionedContainerProps> {\n        render() {\n            const className = \"jurassic-unix__three-d-container\" + (this.props.animated ? \" jurassic-unix__animated\" : \"\");\n            return (\n                <div\n                    className={className}\n                    style={{\n                        transform: get3DRotation('x', this.props.viewRotation||0) + get3DTranslation(this.props.position),\n                    }}\n                >{this.props.children}</div>\n            );\n        }\n    }\n\n    return (\n        <SceneContainer/>\n    );\n}\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import getPrototypeOf from \"./getPrototypeOf\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  return function () {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (isNativeReflectConstruct()) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}"],"sourceRoot":""}