var resumeJsonTemplate={basics:{name:"",label:"",picture:"",email:"",phone:"",website:"",summary:"",location:{address:"",postalCode:"",city:"",countryCode:"",region:""},profiles:[]},work:[],volunteer:[],education:[],awards:[],publications:[],skills:[],languages:[],interests:[],references:[]};window.LinkedinToResumeJson=function(){const e={1:31,2:28,3:31,4:30,5:31,6:30,7:31,8:31,9:30,10:31,11:30,12:31},t=e=>Number(e)<10,o=o=>o&&o.year?`${o.year}-${(e=>e?t(e)?`0${e}`:e:12)(o.month)}-${((o,i)=>o?t(o)?`0${o}`:o:i?e[i]:31)(o.day,o.month)}`:"";let i=resumeJsonTemplate,a=resumeJsonTemplate,n={profile:"*profile",certificates:"*certificationView",education:"*educationView",workPositions:"*positionView",skills:"*skillView",projects:"*projectView",attachments:"*summaryTreasuryMedias",volunteerWork:"*volunteerExperienceView",awards:"*honorView",publications:"*publicationView"},r="/identity/profiles/{profileId}/profileContactInfo",s="/me",l="/identity/profiles/{profileId}",c="/identity/profiles/{profileId}/profileView",d="/identity/profiles/{profileId}/skillCategory",p=!1,u="jtzLiToResumeJson";function m(e,t){return null===e?t||"":e}function f(e){let t=!1;if(e.included&&Array.isArray(e.included))for(let o=0;o<e.included.length;o++){let i=e.included[o];"string"==typeof i.publicIdentifier&&(t=i.publicIdentifier)}return t.toString()}function y(e,t){let a=!1,r=e,s=!1;try{let e=function(e){let t={tableOfContents:{},data:{}};t.tableOfContents=e.data;for(let o=0;o<e.included.length;o++){let i=e.included[o];i.key=i.entityUrn,t.data[i.entityUrn]=i}return t.getValuesByKey=function(e,t){let o=[],i=this.tableOfContents[e];"function"==typeof t&&(i=t(i));let a=[];if(Array.isArray(i))a=i;else if(i){let e=this.data[i];e["*elements"]&&Array.isArray(e["*elements"])?a=e["*elements"]:e.elements&&Array.isArray(e.elements)?a=e.elements:o.push(e)}for(let e=0;e<a.length;e++)void 0!==this.data[a[e]]&&o.push(this.data[a[e]]);return o},t}(t),l=!1;e.getValuesByKey(n.profile).forEach(function(e){l||(l=!0,i.basics.name=e.firstName+" "+e.lastName,i.basics.summary=m(e.summary),i.basics.label=m(e.headline),e.address?i.basics.location.address=e.address:e.locationName&&(i.basics.location.address=e.locationName),i.basics.location.countryCode=e.defaultLocale.country,i.languages.push({language:e.defaultLocale.language,fluency:"Native Speaker"}))}),e.getValuesByKey(n.attachments).forEach(function(e){let t=!1,o=e.data.url;if("GitHub"===e.providerName||/github\.com/gim.test(o)){let e=/github\.com\/([^\/\?]+)[^\/]+$/gim.exec(o);e&&!s&&(s=!0,t=!0,i.basics.profiles.push({network:"GitHub",username:e[1],url:o}))}t||(t=!0,i.basics.website=o),!t&&r.exportBeyondSpec&&(t=!0,i.projects=i.projects||[],i.projects.push({name:e.title,startDate:"",summary:e.description,url:o}))}),e.getValuesByKey(n.education).forEach(function(t){let a={institution:m(t.schoolName),area:m(t.fieldOfStudy),studyType:m(t.degreeName),startDate:"",endDate:"",gpa:m(t.grade),courses:[]};t.timePeriod&&"object"==typeof t.timePeriod&&(t.timePeriod.startDate&&"object"==typeof t.timePeriod.startDate&&(a.startDate=o(t.timePeriod.startDate)),t.timePeriod.endDate&&"object"==typeof t.timePeriod.endDate&&(a.endDate=o(t.timePeriod.endDate))),Array.isArray(t.courses)&&t.courses.forEach(function(t){let o=e.data[t];o?a.courses.push(o.number+" - "+o.name):r.debug&&(console.warn("could not find course:"),console.warn(t))}),i.education.push(a)}),e.getValuesByKey(n.workPositions).forEach(function(t){let a={company:t.companyName,endDate:"",highlights:[],position:t.title,startDate:"",summary:t.description,website:r.companyLiPageFromCompanyUrn(t.companyUrn)};if(t.timePeriod&&"object"==typeof t.timePeriod&&(t.timePeriod.endDate&&"object"==typeof t.timePeriod.endDate&&(a.endDate=o(t.timePeriod.endDate)),t.timePeriod.startDate&&"object"==typeof t.timePeriod.startDate&&(a.startDate=o(t.timePeriod.startDate))),t.company&&t.company["*miniCompany"]){e.data[t.company["*miniCompany"]]}i.work.push(a)}),e.getValuesByKey(n.volunteerWork).forEach(function(e){let t={organization:e.companyName,position:e.role,website:r.companyLiPageFromCompanyUrn(e.companyUrn),startDate:"",endDate:"",summary:e.description,highlights:[]};e.timePeriod&&"object"==typeof e.timePeriod&&("object"==typeof e.timePeriod.endDate&&null!==e.timePeriod.endDate&&(t.endDate=o(e.timePeriod.endDate)),"object"==typeof e.timePeriod.startDate&&null!==e.timePeriod.startDate&&(t.startDate=o(e.timePeriod.startDate))),i.volunteer.push(t)});let c=[];e.getValuesByKey(n.skills).forEach(function(e){c.push(e.name)}),document.querySelectorAll('span[class*="skill-category-entity"][class*="name"]').forEach(function(e){e=e.innerText,c.includes(e)||c.push(e)}),c.forEach(function(e){h(e)});let d=[];document.querySelectorAll(".pv-recommendations-section artdeco-tabpanel.active li").forEach(function(e){if(e.querySelector('blockquote span[class*="line-clamp"]')){const t=e.querySelector("blockquote span.lt-line-clamp__ellipsis a");t&&t.click();const o=[];e.querySelectorAll('blockquote span[class*="line-clamp"]').forEach(e=>o.push(e.innerText));let a={name:e.querySelector("h3").innerText,title:e.querySelector('p[class*="headline"]').innerText,text:o.join(" ")},n=a.name+"|"+a.title;d.includes(n)||(d.push(n),i.references.push({name:a.name,reference:a.text}))}}),r.exportBeyondSpec&&(i.projects=i.projects||[],e.getValuesByKey(n.projects).forEach(function(e){let t={name:e.title,startDate:"",summary:e.description,url:e.url};e.timePeriod&&"object"==typeof e.timePeriod&&(t.startDate=o(e.timePeriod.startDate)),i.projects.push(t)})),e.getValuesByKey(n.awards).forEach(function(e){let t={title:e.title,date:"",awarder:e.issuer,summary:m(e.description)};e.issueDate&&"object"==typeof e.issueDate&&(t.date=o(e.issueDate)),i.awards.push(t)}),e.getValuesByKey(n.publications).forEach(function(e){let t={name:e.name,publisher:e.publisher,releaseDate:"",website:m(e.url),summary:m(e.description)};"object"==typeof e.date&&void 0!==e.date.year&&(t.releaseDate=o(e.date)),i.publications.push(t)}),r.debug&&console.log(i),r.parseSuccess=!0,a=!0}catch(e){r.debug&&(console.error("Error parsing profile schema"),console.group("Error parsing profile schema"),console.log(e),console.log("Instance"),console.log(r),console.groupEnd()),a=!1}return a}function h(e){-1==i.skills.map(e=>e.name).indexOf(e)&&i.skills.push({name:e,level:"",keywords:[]})}function g(e,t,o,i){this.scannedPageUrl="",this.parseSuccess=!1,this.getFullSkills="boolean"!=typeof i||i,this.exportBeyondSpec="boolean"==typeof e&&e,this.preferApi="boolean"!=typeof o||o,this.debug="boolean"==typeof t&&t,this.debug&&console.warn("LinkedinToResumeJson - DEBUG mode is ON")}return g.prototype.setExportBeyondSpec=function(e){"boolean"==typeof e&&(this.exportBeyondSpec=e)},g.prototype.parseEmbeddedLiSchema=function(){let e=this,t=!1,o=!1,i=document.querySelectorAll('code[id^="bpr-guid-"]');for(let a=0;a<i.length;a++){let n=i[a];if(/educationView/.test(n.innerHTML)&&/positionView/.test(n.innerHTML))try{let i=JSON.parse(n.innerHTML),a=e.getProfileId(),r=f(i);if(r===a){t=!0,o=!0;let a=y(e,i);e.debug&&console.log("Parse from embedded schema, success = "+a)}else e.debug&&console.log('Valid schema found, but schema profile id of "'+r+'" does not match desired profile ID of "'+a+'".')}catch(t){if(e.debug)throw t;console.warn(t),console.log("Could not parse embedded schema!")}if(t){e.parseSuccess=!0;break}}!o&&e.debug&&console.warn("Failed to find any embedded schema blocks!")},g.prototype.parseBasics=function(){this.profileId=this.getProfileId(),i.basics.profiles.push({network:"LinkedIn",username:this.profileId,url:"https://www.linkedin.com/in/"+this.profileId+"/"})},g.prototype.parseViaInternalApi=async function(){try{let e=0,t=!1,o=await this.voyagerFetch(c);if(o&&"object"==typeof o.data){y(this,o)&&(e++,t=!0,this.debug&&console.log("parseViaInternalApi = true")),this.debug&&console.log(i)}if(this.getFullSkills){let t=await this.voyagerFetch(d);if(t&&"object"==typeof t.data){e++;t.data.metadata;if(Array.isArray(t.included))for(let e=0;e<t.included.length;e++){let o=t.included[e];"string"==typeof o.name&&h(o.name)}}}if(!t){let t=await this.voyagerFetch(r);if(t&&"object"==typeof t.data){if(i.basics.location.address=t.data.address,i.basics.email=t.data.emailAddress,i.basics.phone=m(t.data.phoneNumbers),Array.isArray(t.data.websites)){let e=t.data.websites;for(let t=0;t<e.length;t++)/portfolio/i.test(e[t].type.category)&&(i.basics.website=e[t].url)}e++}let o=await this.voyagerFetch(s);if(o&&"object"==typeof o.data){if(Array.isArray(o.included)&&o.included.length>0){let e=o.included[0];i.basics.name=e.firstName+" "+e.LastName,i.basics.label=e.occupation,i.basics.picture=e.picture.rootUrl+e.picture.artifacts[e.picture.artifacts.length-1].fileIdentifyingUrlPathSegment}e++}let a=await this.voyagerFetch(l);if(a&&"object"==typeof a.data){let t=a.data;i.basics.name=t.firstName+" "+t.lastName,i.basics.label=t.headline,i.basics.summary=t.summary,e++}}this.debug&&console.log(i),e>0?this.parseSuccess=!0:this.debug&&console.error("Using internal API (Voyager) failed completely!")}catch(e){console.warn(e),console.log("Error parsing using internal API (Voyager)")}},g.prototype.triggerAjaxLoadByScrolling=async function(e){if(e="function"==typeof e?e:function(){},p)e();else{let o=window.scrollY;function t(){let e=document.body.scrollHeight;window.scrollTo(0,e)}t(),await new Promise((i,a)=>{setTimeout(function(){t(),window.scrollTo(0,o),p=!0,i(),e()},400)})}return!0},g.prototype.forceReParse=async function(){p=!1,this.parseSuccess=!1,await this.tryParse()},g.prototype.tryParse=async function(){let e=this;return new Promise(async(t,o)=>{this.parseSuccess&&this.scannedPageUrl!==this.getUrlWithoutQuery()?(await this.forceReParse(),t(!0)):this.triggerAjaxLoadByScrolling(async function(){e.parseBasics(),!1===e.preferApi?(e.parseEmbeddedLiSchema(),e.parseSuccess||await e.parseViaInternalApi()):(await e.parseViaInternalApi(),e.parseSuccess||this.parseEmbeddedLiSchema()),e.scannedPageUrl=e.getUrlWithoutQuery(),t(!0)})})},g.prototype.parseAndShowOutput=async function(){await this.tryParse();let e={raw:i,stringified:JSON.stringify(i,null,2)};if(this.parseSuccess)return this.showModal(e.raw),e;alert("Could not extract JSON from current page. Make sure you are on a profile page that you have access to")},g.prototype.closeModal=function(){let e=document.getElementById("jtzLiToResumeJson_modalWrapper");e&&(e.style.display="none")},g.prototype.showModal=function(e){let t=this,o=u+"_modalWrapper",i=document.getElementById(o);if(i)i.style.display="block";else{t.injectStyles(),(i=document.createElement("div")).id=o,i.innerHTML=""+`<div class="${u}_modal">`+`<div class="${u}_topBar">`+`<div class="${u}_titleText">Profile Export:</div>`+`<div class="${u}_closeButton">X</div>`+"</div>"+`<div class="${u}_modalBody">`+`<textarea id="${u}_exportTextField">Export will appear here...</textarea>`+"</div></div>",document.body.appendChild(i),i.addEventListener("click",function(e){e.target.id===o&&t.closeModal()}),i.querySelector("."+u+"_closeButton").addEventListener("click",function(e){t.closeModal()});var a=i.querySelector("#"+u+"_exportTextField");a.addEventListener("click",function(e){a.select()})}i.querySelector("#"+u+"_exportTextField").value=JSON.stringify(e,null,2)},g.prototype.injectStyles=function(){{let e=document.createElement("style");e.innerText=`#${u}_modalWrapper {`+"width: 100%;height: 100%;position: fixed;top: 0;left: 0;background-color: rgba(0, 0, 0, 0.8);z-index: 99999999999999999999999999999999}"+`.${u}_modal {`+"width: 80%;margin-top: 10%;margin-left: 10%;background-color: white;padding: 20px;border-radius: 13px;}"+`.${u}_topBar {`+"width: 100%;position: relative;}"+`.${u}_titleText {`+"text-align: center;font-size: x-large;width: 100%;padding-top: 8px;}"+`.${u}_closeButton {`+"position: absolute;top: 0px;right: 0px;padding: 0px 8px;margin: 3px;border: 4px double black;border-radius: 10px;font-size: x-large;}"+`.${u}_modalBody {`+"width: 90%;margin-left: 5%;margin-top: 20px;padding-top: 8px;}"+`#${u}_exportTextField {`+"width: 100%;min-height: 300px;}",document.body.appendChild(e)}},g.prototype.getUrlWithoutQuery=function(){return document.location.origin+document.location.pathname},g.prototype.getJSON=function(){return this.parseSuccess?i:a},g.prototype.getProfileId=function(){let e=/linkedin.com\/[^\/]*\/([^\/]+)\/[^\/]*$/im,t=/voyager\/api\/.*\/profiles\/([^\/]+)\/.*/im;return e.test(document.location.href)?e.exec(document.location.href)[1]:!!t.test(document.body.innerHTML)&&t.exec(document.body.innerHTML)[1]},g.prototype.companyLiPageFromCompanyUrn=function(e){let t="";if("string"==typeof e){let o=/urn.+Company:(\d+)/.exec(e);o&&(t="https://www.linkedin.com/company/"+o[1])}return t},g.prototype.voyagerFetch=async function(e){let t=this;return(e=e.replace("{profileId}",this.profileId)).startsWith("https")||(e="https://www.linkedin.com/voyager/api"+e),new Promise(function(o,i){let a=function(e){let t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?t[2]:null}("JSESSIONID").replace(/"/g,"");if(a){let i={credentials:"include",headers:{accept:"application/vnd.linkedin.normalized+json+2.1","csrf-token":a,"sec-fetch-mode":"cors","sec-fetch-site":"same-origin"},referrer:document.location.href,body:null,method:"GET",mode:"cors"};t.debug&&console.log(i),fetch(e,i).then(function(e){200!==e.status?(o(!1),console.warn("Error fetching internal API endpoint")):e.text().then(function(e){try{let t=JSON.parse(e);o(t)}catch(e){console.warn("Error parsing internal API response"),o(!1)}})})}else o(!1)})},g}(),new LinkedinToResumeJson(!1,!1).parseAndShowOutput().then(e=>{const t=window.URL.createObjectURL(new Blob([JSON.stringify(e.raw,null,2)],{type:"application/json"})),o=document.createElement("a");o.style.display="none",o.href=t,o.download="json-resume.json",document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(t)});
